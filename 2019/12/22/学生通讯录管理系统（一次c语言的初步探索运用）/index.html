<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.png">
  <link rel="icon" type="image/png" href="/img/avatar.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="Foresight&#39;s blog wangqiuchen 王秋辰">
  <meta name="author" content="Wang Qiuchen">
  <meta name="keywords" content="blog,life,coding">
  <title>学生通讯录管理系统（一次c语言的初步探索运用） - Foresight&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />


<!-- 主题依赖的图标库，不要自行修改 -->
<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_fmb4a04yx8h.css">

<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">



<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>WangQiuchen's Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">
              <i class="iconfont icon-home-fill"></i>
              首页</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">
              <i class="iconfont icon-archive-fill"></i>
              归档</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">
              <i class="iconfont icon-category-fill"></i>
              分类</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">
              <i class="iconfont icon-tags-fill"></i>
              标签</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">
              <i class="iconfont icon-user-fill"></i>
              关于</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/links/">
              <i class="iconfont icon-link-fill"></i>
              友链</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/img1.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
                <div class="mt-3 post-meta">
                  <i class="iconfont icon-date-fill" aria-hidden="true"></i>
                  <time datetime="2019-12-22 23:06">
                    2019年12月22日 晚上
                  </time>
                </div>
              

              <div class="mt-1">
                
                  
                  <span class="post-meta mr-2">
                    <i class="iconfont icon-chart"></i>
                    8k 字
                  </span>
                

                
                  
                  <span class="post-meta mr-2">
                      <i class="iconfont icon-clock-fill"></i>
                    
                    
                    134
                     分钟
                  </span>
                

                
              </div>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <p>纪念人生第一次手撸2000行代码 (o^^o)♪<br><a id="more"></a><br><img src="https://i.loli.net/2019/12/22/AYRUeJpuT3DLiZP.jpg" srcset="/img/loading.gif" alt></p>
<h1 id="学生通讯录管理系统"><a href="#学生通讯录管理系统" class="headerlink" title="学生通讯录管理系统"></a>学生通讯录管理系统</h1><ul>
<li><strong>c语言课程设计</strong>  <h2 id="HUST-EIC"><a href="#HUST-EIC" class="headerlink" title="HUST EIC"></a>HUST EIC</h2></li>
</ul>
<h2 id="功能概述："><a href="#功能概述：" class="headerlink" title="功能概述："></a>功能概述：</h2><p>这是基于c语言的学生通讯录管理系统，包括以下功能：</p>
<ul>
<li><strong>导入csv等二进制格式文件</strong><ul>
<li>检测是否重复导入：若重复导入，提醒用户是否覆盖，或者回到主界面进行添加功能</li>
<li>检测文件是否存在：若存在则导入，若不存在会提示“NOT FOUND”重新导入</li>
</ul>
</li>
<li><strong>浏览所有学生信息</strong><ul>
<li>一键打印所有同学的所有信息</li>
</ul>
</li>
<li><strong>统计与查找所有学生信息</strong><ul>
<li>支持按各类特征查找，如：只查找名字或只查找学院，所有查找都支持模糊查找，如只输入姓氏，或只输入学院名称的几个字</li>
<li>支持关键字查找：输入关键字查找所有特征（即，把名字，学院，email等与关键字一一对比）</li>
<li>所有查找结果都返回查找的结果的个数</li>
<li>所有查找都支持模糊查找</li>
</ul>
</li>
<li><strong>排序</strong><ul>
<li>排序采用设标签法</li>
<li>设标签后，交换采用数据域的交换，而非结点的交换，有改进空间</li>
</ul>
</li>
<li><strong>删除学生信息</strong><ul>
<li>删除学生信息就是将该结点的上一级指针指向下一级，再free该结点</li>
<li>有避免误删的功能，即多次确定，且打印信息</li>
</ul>
</li>
<li><strong>添加新的学生信息</strong><ul>
<li>设计了两种添加学生信息的方式：<ul>
<li>用户手动添加</li>
<li>通过读取文件添加</li>
</ul>
</li>
<li>两种添加方式都直接添加在末尾</li>
</ul>
</li>
<li><strong>修改学生信息</strong><ul>
<li>根据学号的唯一性，通过学号找到学生本人然后进行修改。</li>
<li>同样具有容错性，例如：若查找不到学生，则打印 NOTFOUND！！</li>
</ul>
</li>
<li><strong>导出表格</strong><ul>
<li>输入导出表格的路径，若存在同名同路径文件，则覆盖，若不存在，则创建   </li>
</ul>
</li>
<li><strong>通知</strong><ul>
<li>base64加密和soket部分代码为网上demo，有些库函数不知osx和windows能否兼容<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><pre><code class="hljs mermaid">graph LR
A[主界面] --&gt; B[导入文件]
A[主界面] --&gt; C[排序]
A[主界面] --&gt; D[浏览所有]
A[主界面] --&gt; E[统计和查找]
A[主界面] --&gt; F[添加新的学生信息]
A[主界面] --&gt; G[修改学生信息]
A[主界面] --&gt; H[删除学生信息]
A[主界面] --&gt; I[导出]
A[主界面] --&gt; J[通知学生]
A[主界面] --&gt; K(退出程序)
B--&gt;输入文件路径
C--&gt;按姓名字典顺序排序
C--&gt;按学号排序
D--&gt;列表浏览所有学生信息
E--&gt;5(统计与查找)
5--&gt;按学号查找
5--&gt;按名字查找
5--&gt;按学院查找
5--&gt;按地址查找
5--&gt;按电话查找
5--&gt;按邮箱查找
F--&gt;手动添加
F--&gt;文件添加
G--&gt;查找--&gt;选择修改特征--&gt;键入修改后值--&gt;修改成功
H--&gt;查找删除学生信息--&gt;1&#123;确定删除&#125;--&gt;删除
I--&gt;选择输出路径--&gt;导出成功
J--&gt;输入学生邮箱--&gt;send</code></pre>
<h2 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h2></li>
</ul>
</li>
<li><strong>结构采用一个功能一个模块（子函数），实现模块间的相互独立</strong></li>
<li><strong>存储数据的链表的表头是全局链表，可以不用传递参数便随时调取</strong></li>
<li><strong>进入功能后可以随时退出，回到主界面</strong></li>
<li><strong>所有模块都具有容错性</strong></li>
<li><strong>代码除「通知」模块的一部分，其他为纯手写</strong><h2 id="不足和改进空间"><a href="#不足和改进空间" class="headerlink" title="不足和改进空间"></a>不足和改进空间</h2></li>
<li>在统计和查找模块，可以利用定义函数来减少代码行数，但时间不足，暂来不及改变</li>
<li>结构还不够简洁</li>
<li>对学生信息的修改功能上，没有批量修改</li>
<li>对学生的信息统计能统计数目，暂不能有更多的统计功能</li>
<li>所有数据仅支持英文，中文在terminal中测试为乱码</li>
<li>发送通知的功能还需继续学习更多有关通信和加密的知识<h2 id="总结收获"><a href="#总结收获" class="headerlink" title="总结收获"></a>总结收获</h2></li>
<li>学会了链表的增删查改</li>
<li>学会了用c语言读写文件</li>
<li>对数组、指针、结构体的运用能力更近了一层</li>
<li>debug能力更强</li>
<li>初步接触套接字</li>
</ul>
<pre><code>  //
  //  main.cpp
  //  addresslist
  //
  //  Created by 王秋辰 on 2019/12/17.
  //  Copyright © 2019 王秋辰. All rights reserved.

  //电信1901班   王秋辰

  /*************************************************************************************



  caution!!!!!!!
  atoi转换char为int
  表格的形式必须为类似一下例子的可读文件，csv或者txt皆可
  列分隔用“，”。行分隔用&#39;\n&#39;

  name,num,sex,college,major,add,tel,QQ,email
  mike,U201912345,1,EIC,eletricial information,yunyuan 23 107,13972108706,1194798160,1194798160@qq.com
  john,U201912346,0,CS,computer science,yunyuan 22 106,13972108707,1194798161,1194798160@qq.com
  eric,U201912347,1,EIC,eletricial information,yunyuan 23 106,13972108708,1194798162,1194798160@qq.com

  通知功能需要配置邮箱的   POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务 才能使用 &lt;&lt;--(不太懂)

  *************************************************************************************/

  //email模块所需
  #include &lt;sys/types.h&gt;
  #include &lt;sys/socket.h&gt;
  #include &lt;netinet/in.h&gt;
  #include &lt;errno.h&gt;
  #include &lt;unistd.h&gt;
  #include &lt;sys/time.h&gt;
  #include &lt;cstring&gt;
  #include &lt;arpa/inet.h&gt;
  //


  #include &lt;iostream&gt;
  #include &lt;stdio.h&gt;
  #include &lt;stdlib.h&gt;
  #include &lt;string.h&gt;
  #define NAMESIZE 99
  #define MAJORSIZE 99
  #define ADDSIZE 99
  #define EMAILSIZE 99
  #define COLLEGESIZE 99
  #define NUMSIZE 99
  #define TELSIZE 99
  #define QQSIZE 99
  #define SIZE 99//存储的最大容量
  #define FILEPATHSIZE 99
  #define CHANGESIZE 40

  using namespace std;

  typedef struct student{
      char name[NAMESIZE];//姓名
      char num[NUMSIZE];//学号
      int sex;//man:1  woman:0
      char college[COLLEGESIZE];//学院
      char major[MAJORSIZE];//专业
      char add[ADDSIZE];//地址
      char tel[TELSIZE];//电话
      char QQ[QQSIZE];//qq
      char email[EMAILSIZE];//电子邮箱
  } datatype;

  typedef struct linknode{
      datatype studentdata;
      linknode *next;
  } Node,*linklist;//定义节点

  linknode *head=(Node*)malloc(sizeof(Node));//表头

  //**************************************************************
  //*************                                  ***************
  //*************    打印所有学生信息模块声明           ***************
  //*************                                  ***************
  //**************************************************************
  void printlink();//打印所有学生信息的界面
  void output();//展示所有信息

  int menu(void);//主菜单
  //**************************************************************
  //*************                                  ***************
  //*************          导入模块声明             ***************
  //*************                                  ***************
  //**************************************************************
  void create(char filepath[FILEPATHSIZE]);//=根据文件路径导入；创建链表
  void input();//导入信息界面
  //**************************************************************
  //*************                                  ***************
  //*************           查找模块声明             ***************
  //*************                                  ***************
  //**************************************************************
  void Find();//查找界面
  int checksubstr(char *str,char *sub_str);//检查字符串中是否包含子字符串
  void printsingle(Node *p);//打印单个节点学生数据
  int Findnum();//查找学号界面；输入学号
  void searchnum(char *search);//按学号查找
  int Findname();//按姓名查找界面;输入关键字
  void searchname(char *search);//按姓名查找
  int Findtel();//按电话查找界面;输入关键字
  void searchtel(char *search);//按电话查找
  int FindQQ();//按QQ查找界面;输入关键字
  void searchQQ(char *search);//按QQ查找
  int Findall();//关键字查找
  void searchall(char *search);
  int Findsex();//性别查找
  void searchsex(int search);
  int Findmajor();//专业查找
  void searchmajor(char *search);
  int Findaddress();//地址查找
  void searchaddress(char *search);
  int Findcollege();//学院查找
  void searchcollege(char *search);
  //**************************************************************
  //*************                                  ***************
  //*************           修改数据模块声明             ***************
  //*************                                  ***************
  //**************************************************************
  void changedata();//界面
  linklist searchnumchange(char *search);//找到待修改的值，并返回节点指针
  //**************************************************************
  //*************                                  ***************
  //*************           删除数据模块声明          ***************
  //*************                                  ***************
  //**************************************************************
  void deletedata();//界面
  linklist findthefront();//找到待c删除节点的前一个节点，返回指针

  //**************************************************************
  //*************                                  ***************
  //*************           添加数据模块             ***************
  //*************                                  ***************
  //**************************************************************
  void adddata();//界面
  void writebyhand();//手动写入
  void writebyfile();//文件写入

  //**************************************************************
  //*************                                  ***************
  //*************           导出数据模块             ***************
  //*************                                  ***************
  //**************************************************************
  void exportdata();//界面和导出
  //**************************************************************
  //*************                                  ***************
  //*************           排序模块声明             ***************
  //*************                                  ***************
  //**************************************************************
  void sortdata();//界面
  void sortbynum();//按学号排序
  void exchange(linknode *p,linknode *q);//交换两个指针内的data
  void sortbyname();//按name排序


  //**************************************************************
  //*************                                  ***************
  //*************           发送邮件             ***************
  //*************                                  ***************
  //**************************************************************
  void send();
  struct data6
  {
      unsigned int d4:6;
      unsigned int d3:6;
      unsigned int d2:6;
      unsigned int d1:6;
  };
  // 协议中加密部分使用的是base64方法
  char con628(char c6);
  void base64(char *dbuf,char *buf128,int len);
  void sendemail(char *email,char *body);
  int open_socket(struct sockaddr *addr);
  void sendto(char *email);
  //**************************************************************
  //*************                                  ***************
  //*************           主函数。                ***************
  //*************                                  ***************
  //**************************************************************
  int main() {
      system(&quot;clear&quot;);//osx环境
      menu();
      return 0;
  }
  //**************************************************************
  //*************                                  ***************
  //*************           主菜单。                ***************
  //*************                                  ***************
  //**************************************************************
  int menu(void){
      cout&lt;&lt;&quot;|------------------------------&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|-&gt;这里是学生通讯录管理系统&lt;-|&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[1]-导入&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[2]-按条件排序&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[3]-浏览所有学生信息&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[4]-统计与查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[5]-添加新的学生信息&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[6]-修改学生信息&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[7]-删除学生信息&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[8]-导出&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[9]-通知学生&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|----[0]-退出程序&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|------------------------------&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;请输入要进行的操作-&gt;&quot;&lt;&lt;endl;

      int n=-1;
      scanf(&quot;%d&quot;,&amp;n);
      if (n&lt;=9&amp;&amp;n&gt;=1) {
          switch (n) {
              case 1:
                  system(&quot;clear&quot;);
                  input();
                  break;
              case 2:
                  system(&quot;clear&quot;);
                  sortdata();
                  break;
              case 3:
                  system(&quot;clear&quot;);
                  output();
                  break;
              case 4:
                  system(&quot;clear&quot;);
                  Find();
                  break;
              case 5:
                  system(&quot;clear&quot;);
                  adddata();
                  break;
              case 6:
                  system(&quot;clear&quot;);
                  changedata();
                  break;
              case 7:
                  system(&quot;clear&quot;);
                  deletedata();
                  break;
              case 8:
                  system(&quot;clear&quot;);
                  exportdata();
                  break;
              case 9:
                  system(&quot;clear&quot;);
                  send();
                  break;
              case 0:
                  exit(1);
              default:
                  break;
          }}
      else{
          fflush(stdin);
          system(&quot;clear&quot;);//osx环境
          printf(&quot;请键入正确的操作！！！\n&quot;);
          menu();

      }
      return 0;
  }
  //**************************************************************
  //*************                                  ***************
  //*************           通知模块             ***************
  //*************                                  ***************
  //**************************************************************


  //**************************************************************
  //*************                                  ***************
  //*************           排序模块             ***************
  //*************                                  ***************
  //**************************************************************

  void sortdata(){
      cout&lt;&lt;&quot;|--------[1]-按姓名排序&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|--------[2]-按学号排序&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|--------[0]-返回主菜单&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|--------请输入你的选项：&quot;&lt;&lt;endl;
      int n = -1;
      scanf(&quot;%d&quot;,&amp;n);
      fflush(stdin);
      switch (n) {
          case 1:
              sortbyname();
              system(&quot;clear&quot;);
              cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      姓氏排序成功！    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
              menu();
              break;
              break;
          case 2:
              sortbynum();
              system(&quot;clear&quot;);
              cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      学号排序成功！    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
              menu();
              break;
          case 0:
              system(&quot;clear&quot;);
              printf(&quot;&gt;&gt;&gt;&gt;请输入正确的选项!!!!!&lt;&lt;&lt;&lt;&quot;);
              sortdata();
              exit(1);
              break;
          default:
              break;
      }
  }
  //**************************************************************
  //*************                                  ***************
  //*************           按学号排序             ***************
  //*************                                  ***************
  //**************************************************************
  void sortbynum(){
      linknode *p,*q;
      p=head;
      while (p) {
          q=p-&gt;next;
          linknode *themin=p;
          while (q) {
              if (strcmp(p-&gt;studentdata.num, q-&gt;studentdata.num)&gt;0) {
                  themin=q;
              }
              q=q-&gt;next;
          }
          exchange(p, themin);
          p=p-&gt;next;
      }
  }

  void exchange(linknode *p,linknode *q)
  {
      linknode *temp=(linknode*)malloc(sizeof(Node));
      temp-&gt;studentdata = p-&gt;studentdata;
      p-&gt;studentdata = q-&gt;studentdata;
      q-&gt;studentdata = temp -&gt; studentdata;
      free(temp);
  }
  //**************************************************************
  //*************                                  ***************
  //*************           按姓名排序             ***************
  //*************                                  ***************
  //**************************************************************
  void sortbyname(){
      linknode *p,*q;
      p=head;
      while (p) {
          q=p-&gt;next;
          linknode *themin=p;
          while (q) {
              if (strcmp(p-&gt;studentdata.name, q-&gt;studentdata.name)&gt;0) {
                  themin=q;
              }
              q=q-&gt;next;
          }
          exchange(p, themin);
          p=p-&gt;next;
      }
  }


  //**************************************************************
  //*************                                  ***************
  //*************           导出数据模块             ***************
  //*************                                  ***************
  //**************************************************************
  void exportdata(){
      fflush(stdin);
      cout&lt;&lt;&quot;|-------------------------------&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;返回上一级则按回车键&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;请输入导出文件路径(若文件存在，则会被覆盖)：&quot;&lt;&lt;endl;
      char filepath[FILEPATHSIZE];
      gets(filepath);
      if (filepath[0]==&#39;\0&#39;) {
          system(&quot;clear&quot;);
          menu();
      }
      FILE *fp=fopen(filepath, &quot;w&quot;);
      Node *read=head-&gt;next;
      fputs(&quot;name,num,sex,college,major,add,tel,QQ,email\n&quot;, fp);
      while (read) {
          char tempsex[2];
          if (read-&gt;studentdata.sex==1) {
              strcpy(tempsex, &quot;1&quot;);
          }
          if (read-&gt;studentdata.sex==0) {
              strcpy(tempsex, &quot;0&quot;);
          }
          fputs(read-&gt;studentdata.name, fp);
          fputs(&quot;,&quot;, fp);
          fputs(read-&gt;studentdata.num, fp);
          fputs(&quot;,&quot;, fp);
          fputs(tempsex, fp);
          fputs(&quot;,&quot;, fp);
          fputs(read-&gt;studentdata.college, fp);
          fputs(&quot;,&quot;, fp);
          fputs(read-&gt;studentdata.major, fp);
          fputs(&quot;,&quot;, fp);
          fputs(read-&gt;studentdata.add, fp);
          fputs(&quot;,&quot;, fp);
          fputs(read-&gt;studentdata.tel, fp);
          fputs(&quot;,&quot;, fp);
          fputs(read-&gt;studentdata.QQ, fp);
          fputs(&quot;,&quot;, fp);
          fputs(read-&gt;studentdata.email, fp);
          read=read-&gt;next;
      }
      fclose(fp);
      system(&quot;clear&quot;);
      cout&lt;&lt;&quot;导出文件成功!&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;文件在&quot;&lt;&lt;filepath&lt;&lt;&quot;中&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;按任意键回到主菜单&quot;&lt;&lt;endl;
      getchar();
      system(&quot;clear&quot;);
      fflush(stdin);
      menu();
      exit(1);
  }


  //**************************************************************
  //*************                                  ***************
  //*************           添加数据模块             ***************
  //*************                                  ***************
  //**************************************************************

  void adddata()
  {
      fflush(stdin);
      cout&lt;&lt;&quot;|---------[1]-从当前界面手动写入&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|---------[2]-从文件导入，从数据最后一行添加&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;|---------[3]-回到主界面&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;请输入你的选项:&quot;&lt;&lt;endl;
      int n = 0;
      fflush(stdin);
      scanf(&quot;%d&quot;,&amp;n);
      fflush(stdin);
      switch (n) {
          case 1:
              writebyhand();
              break;
          case 2:
              writebyfile();
              break;
          case 3:
              fflush(stdin);
              system(&quot;clear&quot;);
              menu();
              exit(1);
          default:
              fflush(stdin);
              system(&quot;clear&quot;);
              adddata();
              break;
      }
      exit(1);
  }

  void writebyhand(){
      fflush(stdin);
      char *temname=(char*)malloc(NAMESIZE);
      char *temnum=(char*)malloc(NUMSIZE);
      int temsex=2;
      char *temcollege=(char*)malloc(COLLEGESIZE);
      char *temmajor=(char*)malloc(MAJORSIZE);
      char *temadd=(char*)malloc(ADDSIZE);
      char *temtel=(char*)malloc(TELSIZE);
      char *temQQ=(char*)malloc(QQSIZE);
      char *tememail=(char*)malloc(EMAILSIZE);
      cout&lt;&lt;&quot;请输入姓名&quot;&lt;&lt;endl;
      gets(temname);
      cout&lt;&lt;&quot;请输入学号&quot;&lt;&lt;endl;
      gets(temnum);
      while (!(temsex==1||temsex==0)) {
          cout&lt;&lt;&quot;请输入性别(男生为1，女生为0)&quot;&lt;&lt;endl;
          scanf(&quot;%d&quot;,&amp;temsex);
          if (!(temsex==1||temsex==0)) {
              temsex=2;
              cout&lt;&lt;&quot;请输入正确的数据!!!&quot;&lt;&lt;endl;
          }
          fflush(stdin);
      }
      fflush(stdin);
      cout&lt;&lt;&quot;请输入学院&quot;&lt;&lt;endl;
      gets(temcollege);
      cout&lt;&lt;&quot;请输入专业&quot;&lt;&lt;endl;
      gets(temmajor);
      cout&lt;&lt;&quot;请输入地址&quot;&lt;&lt;endl;
      gets(temadd);
      cout&lt;&lt;&quot;请输入电话&quot;&lt;&lt;endl;
      gets(temtel);
      cout&lt;&lt;&quot;请输入QQ&quot;&lt;&lt;endl;
      gets(temQQ);
      cout&lt;&lt;&quot;请输入email&quot;&lt;&lt;endl;
      fgets(tememail, EMAILSIZE, stdin);
      linknode *theend=head;
      while (theend-&gt;next) {
          theend=theend-&gt;next;
      }
      linknode *tem;

      tem=(Node*)malloc(sizeof(Node));

      strcpy(tem-&gt;studentdata.name,temname);
      strcpy(tem-&gt;studentdata.num,temnum);
      tem-&gt;studentdata.sex=temsex;
      strcpy(tem-&gt;studentdata.college,temcollege);
      strcpy(tem-&gt;studentdata.major,temmajor);
      strcpy(tem-&gt;studentdata.add,temadd);
      strcpy(tem-&gt;studentdata.tel,temtel);
      strcpy(tem-&gt;studentdata.QQ,temQQ);
      strcpy(tem-&gt;studentdata.email,tememail);
      tem-&gt;next=NULL;
      theend-&gt;next=tem;
</code></pre><p>​<br>​<br>​          free(temadd);<br>​          free(tememail);<br>​          free(temtel);<br>​          free(temQQ);<br>​          free(temmajor);<br>​          free(temcollege);<br>​          free(temnum);<br>​          free(temname);<br>​          fflush(stdin);<br>​          system(“clear”);<br>​          cout&lt;&lt;”—————————————————————-“&lt;&lt;endl;<br>​          cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>​          cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      手动导入成功！       &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>​          cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>​          cout&lt;&lt;”—————————————————————-“&lt;&lt;endl;<br>​          menu();<br>​          exit(1);<br>​<br>      }</p>
<pre><code>  void writebyfile()
  {
      cout&lt;&lt;&quot;|-------------------------------&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;返回上一级则按回车键&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;请输入导入文件路径：&quot;&lt;&lt;endl;
      char filepath[FILEPATHSIZE];
      gets(filepath);
      if (filepath[0]==&#39;\0&#39;) {
          system(&quot;clear&quot;);
          menu();
      }
      FILE *fp;
      while ((fp=fopen(filepath, &quot;r&quot;))==NULL) {
          printf(&quot;NOT FOUND！！请再次输入:\n&quot;);
          gets(filepath);
          if (filepath[0]==&#39;\0&#39;)
          {
              system(&quot;clear&quot;);
              menu();
              break;
          }
      }
      linknode *theend=head;
      while (theend-&gt;next) {
          theend=theend-&gt;next;
      }
      fp=fopen(filepath, &quot;r&quot;);
      linknode *p,*q;
      p=q=theend;
      char buffer[1024];
      char *line,*record;//c保存行数据,单个列元素
      line=fgets(buffer, sizeof(buffer), fp);//丢掉第一行
      while ((line=fgets(buffer, sizeof(buffer), fp))!=NULL) {
          q=(Node*)malloc(sizeof(Node));

          record = strtok(line, &quot;,&quot;);
          strcpy(q-&gt;studentdata.name,record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.num,record);

          record = strtok(NULL, &quot;,&quot;);
          q-&gt;studentdata.sex=atoi(record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.college,record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.major, record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.add, record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.tel,record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.QQ,record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.email, record);
</code></pre><p>​<br>​              p-&gt;next=q;<br>​              p=q;<br>​          }<br>​          p-&gt;studentdata.email[strlen(q-&gt;studentdata.email)+1]=’\0’;<br>​          p-&gt;studentdata.email[strlen(q-&gt;studentdata.email)]=’\n’;<br>​          p-&gt;next=NULL;<br>​          fclose(fp);<br>​          fflush(stdin);<br>​          system(“clear”);<br>​          cout&lt;&lt;”—————————————————————-“&lt;&lt;endl;<br>​          cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>​          cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      文件导入成功！    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>​          cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>​          cout&lt;&lt;”—————————————————————-“&lt;&lt;endl;<br>​          menu();<br>​          exit(1);<br>​      }</p>
<pre><code>  //**************************************************************
  //*************                                  ***************
  //*************           删除数据模块             ***************
  //*************                                  ***************
  //**************************************************************
  void deletedata(){
      fflush(stdin);
      cout&lt;&lt;&quot;请输入要删除的学生学号「完整学号」：&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;输入q回到主界面&quot;&lt;&lt;endl;
      char *studentnum=(char*)malloc(NUMSIZE);
      gets(studentnum);
      if (strcmp(studentnum, &quot;q&quot;)==0) {
          system(&quot;clear&quot;);
          menu();
          exit(1);
      }
      linklist target=searchnumchange(studentnum);
      if(target){
          system(&quot;clear&quot;);
          printsingle(target-&gt;next);
          printf(&quot;确定删除吗？（y/n）&quot;);
          fflush(stdin);
          char *check=(char*)malloc(sizeof(3));
          gets(check);
          if (strcmp(check, &quot;y&quot;)==0||strcmp(check, &quot;Y&quot;)==0) {
              linklist p=target-&gt;next;
              target-&gt;next=p-&gt;next;
              free(p);
              free(target);
              free(check);
              system(&quot;clear&quot;);
              cout&lt;&lt;&quot;删除成功&quot;&lt;&lt;endl;
              deletedata();
          }
          else{
              free(target);
              free(check);
              system(&quot;clear&quot;);
              fflush(stdin);
              deletedata();
          }
      }
      else
      {
          fflush(stdin);
          free(target);
          free(studentnum);
          system(&quot;clear&quot;);
          printf(&quot;NOT FOUND&quot;);
          deletedata();
          exit(1);
      }
  }

  //**************************************************************
  //*************                                  ***************
  //*************           修改数据模块             ***************
  //*************                                  ***************
  //**************************************************************
  void changedata(){
      fflush(stdin);
      cout&lt;&lt;&quot;请输入要修改的学生学号「完整学号」：&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;输入q回到主界面&quot;&lt;&lt;endl;
      char *studentnum=(char*)malloc(NUMSIZE);
      gets(studentnum);
      if (strcmp(studentnum, &quot;q&quot;)==0) {
          system(&quot;clear&quot;);
          menu();
          exit(1);
      }
      linklist check=searchnumchange(studentnum);
      if(check){
          while (check)
          {
          system(&quot;clear&quot;);
          printsingle(check);
              cout&lt;&lt;&quot;[1]修改姓名&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[2]修改学号&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[3]修改性别(男生为1，女生为2）&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[4]修改学院&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[5]修改专业&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[6]修改地址&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[7]修改电话&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[8]修改QQ&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[9]修改电子邮箱&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;[其他任意]返回主页面&quot;&lt;&lt;endl;
              cout&lt;&lt;&quot;请输入你的选项:&quot;&lt;&lt;endl;
          int n=-1;
          scanf(&quot;%d&quot;,&amp;n);
          if (!(n&lt;=9&amp;&amp;n&gt;=1)) {
              changedata();
          }
          fflush(stdin);
          cout&lt;&lt;&quot;修改为：&quot;&lt;&lt;endl;
          char *change=(char*)malloc(sizeof(CHANGESIZE));
          gets(change);
          switch (n) {
              case 1:
                  strcpy(check-&gt;studentdata.name,change);
                  break;
              case 2:
                  strcpy(check-&gt;studentdata.num, change);
                  break;
              case 3:
                  if(strcmp(change,&quot;1&quot;)==0)
                      check-&gt;studentdata.sex=1;
                  else if(strcmp(change,&quot;2&quot;)==0)
                      check-&gt;studentdata.sex=0;
                  break;
              case 4:
                  strcpy(check-&gt;studentdata.college, change);
                  break;
              case 5:
                  strcpy(check-&gt;studentdata.major, change);
                  break;
              case 6:
                  strcpy(check-&gt;studentdata.add, change);
                  break;
              case 7:
                  strcpy(check-&gt;studentdata.tel, change);
                  break;
              case 8:
                  strcpy(check-&gt;studentdata.QQ, change);
                  break;
              case 9:
                  strcpy(check-&gt;studentdata.email, change);
                  break;
              default:
                  break;
          }

          fflush(stdin);
          cout&lt;&lt;&quot;修改成功!!!!&quot;&lt;&lt;endl;
          cout&lt;&lt;&quot;需要继续修改吗（y/n）?&quot;&lt;&lt;endl;
          char *goon=(char*)malloc(sizeof(4));
              gets(goon);

              if (strcmp(goon,&quot;y&quot;)==0||strcmp(goon, &quot;Y&quot;)==0) {
                  free(goon);
                  continue;
              }
              else{
                  free(change);
                  free(studentnum);
                  free(goon);
                  system(&quot;clear&quot;);
                  menu();
                  exit(1);
              }
      }
      }
      else{
          free(studentnum);
          system(&quot;clear&quot;);
          printf(&quot;NOT FOUND&quot;);
          changedata();
          exit(1);

      }
  }


  linklist searchnumchange(char *search){
      Node *p=head-&gt;next;
      while (p!=NULL) {
          if (checksubstr(p-&gt;studentdata.num, search)==1) {
              return p;
          }
          p=p-&gt;next;
      }
      return NULL;
  }
  //**************************************************************
  //*************                                  ***************
  //*************           查找数据模块             ***************
  //*************                                  ***************
  //**************************************************************

  void Find(void){
      cout&lt;&lt;&quot;|-------------------------------&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[1]-按【姓名】统计与查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[2]-按【学号】统计与查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[3]-按【电话】查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[4]-按【QQ】查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[5]-按【学院】统计与查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[6]-按【专业】统计与查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[7]-按【地址】统计与查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[8]-按【性别】统计与查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[9]-关键字查找&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;｜----[0]-返回主界面&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;****************************************************************************&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;*********                   caution!                  **********************&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;*********    按特征查找支持模糊查找，例如：姓名可输入姓氏查找   *************&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;*********           关键字查找会对所有特征进行查找           *******************&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;***************************************************************************&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;请输入选项:&quot;&lt;&lt;endl;
      int n = 0;
      scanf(&quot;%d&quot;,&amp;n);
      fflush(stdin);
      switch (n) {
          case 1:
              system(&quot;clear&quot;);
              Findname();
              break;
          case 2:
              system(&quot;clear&quot;);
              Findnum();
              break;
          case 3:
              system(&quot;clear&quot;);
              Findtel();
              break;
          case 4:
              system(&quot;clear&quot;);
              FindQQ();
              break;
          case 5:
              system(&quot;clear&quot;);
              Findcollege();
              break;
          case 6:
              system(&quot;clear&quot;);
              Findmajor();
              break;
          case 7:
              system(&quot;clear&quot;);
              Findaddress();
              break;
          case 8:
              system(&quot;clear&quot;);
              Findsex();
              break;
          case 9:
              system(&quot;clear&quot;);
              Findall();
              break;
          default:
              system(&quot;clear&quot;);
              menu();
              break;
      }
  }


  linklist findthefront(char *search){
      Node *p=head-&gt;next;
      while (p!=NULL) {
          if (checksubstr(p-&gt;next-&gt;studentdata.num, search)==1) {
              return p;
          }
          p=p-&gt;next;
      }
      return NULL;
  }


  //**************************************************************
  //*************                                  ***************
  //*************           关键字查找模块             ***************
  //*************                                  ***************
  //**************************************************************
  int Findall(){
      cout&lt;&lt;&quot;请输入关键字：\n&quot;&lt;&lt;endl;
      char *search=(char*)malloc(sizeof(char)*15);
      gets(search);
      searchall(search);
      free(search);
      printf(&quot;\n按两次任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchall(char *search){
      Node *p=head-&gt;next;
      int n=0;
      while (p!=NULL) {
          if (checksubstr(p-&gt;studentdata.num, search)||
              checksubstr(p-&gt;studentdata.name, search)||
              checksubstr(p-&gt;studentdata.tel, search)||
              checksubstr(p-&gt;studentdata.QQ, search)||
              checksubstr(p-&gt;studentdata.add, search)||
              checksubstr(p-&gt;studentdata.college, search)||
              checksubstr(p-&gt;studentdata.email, search)||
              checksubstr(p-&gt;studentdata.major, search)) {
              n++;
              printsingle(p);
          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }

  //**************************************************************
  //*************                                  ***************
  //*************           查找学院模块             ***************
  //*************                                  ***************
  //**************************************************************
  int Findcollege(){
      cout&lt;&lt;&quot;请输入学院或学院名称关键字：\n&quot;&lt;&lt;endl;
      char *search=(char*)malloc(sizeof(char)*15);
      gets(search);
      searchcollege(search);
      free(search);
      printf(&quot;\n按两次任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchcollege(char *search){
      Node *p=head-&gt;next;
      int n=0;
      while (p!=NULL) {
          if (checksubstr(p-&gt;studentdata.college, search)==1) {
              n++;
              printsingle(p);

          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }

  //**************************************************************
  //*************                                  ***************
  //*************           查找专业模块             ***************
  //*************                                  ***************
  //**************************************************************
  int Findmajor(){
      cout&lt;&lt;&quot;请输入学院或学院名称关键字：\n&quot;&lt;&lt;endl;
      char *search=(char*)malloc(sizeof(char)*15);
      gets(search);
      searchmajor(search);
      free(search);
      printf(&quot;\n按两次任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchmajor(char *search){
      Node *p=head-&gt;next;
      int n=0;
      while (p!=NULL) {
          if (checksubstr(p-&gt;studentdata.major, search)==1) {
              n++;
              printsingle(p);
          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }


  //**************************************************************
  //*************                                  ***************
  //*************           查找地址模块             ***************
  //*************                                  ***************
  //**************************************************************
  int Findaddress(){
      cout&lt;&lt;&quot;请输入专业或专业名称关键字：\n&quot;&lt;&lt;endl;
      char *search=(char*)malloc(sizeof(char)*15);
      gets(search);
      searchcollege(search);
      free(search);
      printf(&quot;\n按任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchaddress(char *search){
      Node *p=head-&gt;next;
      int n=0;
      while (p!=NULL) {
          if (checksubstr(p-&gt;studentdata.add, search)==1) {
              n++;
              printsingle(p);

          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }

  //**************************************************************
  //*************                                  ***************
  //*************           查找性别模块             ***************
  //*************                                  ***************
  //**************************************************************
  int Findsex(){
      cout&lt;&lt;&quot;请输入性别（男生键入数字1，女生键入数字0）：\n&quot;&lt;&lt;endl;
      int search = -1;
      scanf(&quot;%d&quot;,&amp;search);
      searchsex(search);
      printf(&quot;\n按两次任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchsex(int search){
      int n = 0;
      Node *p=head-&gt;next;
      while (p!=NULL) {
          if (p-&gt;studentdata.sex==search) {
              n++;
              printsingle(p);

          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }


  //**************************************************************
  //*************                                  ***************
  //*************           查找学号模块             ***************
  //*************                                  ***************
  //**************************************************************
  int Findnum(){
      cout&lt;&lt;&quot;请输入学号或部分学号：\n&quot;&lt;&lt;endl;
      char *search=(char*)malloc(sizeof(char)*15);
      gets(search);
      searchnum(search);
      free(search);
      printf(&quot;\n按两次任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchnum(char *search){
      Node *p=head-&gt;next;
      int n=0;
      while (p!=NULL) {
          if (checksubstr(p-&gt;studentdata.num, search)==1) {
              n++;
              printsingle(p);

          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }



  //**************************************************************
  //*************                                  ***************
  //*************           查找姓名模块             ***************
  //*************                                  ***************
  //**************************************************************
  int Findname(){
      cout&lt;&lt;&quot;请输入姓名或关键字：\n&quot;&lt;&lt;endl;
      char *search=(char*)malloc(sizeof(char)*15);
      gets(search);
      searchname(search);
      free(search);
      printf(&quot;\n按两次任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchname(char *search){
      Node *p=head-&gt;next;
      int n = 0;
      while (p) {
          if (checksubstr(p-&gt;studentdata.name, search)==1) {
              n++;
              printsingle(p);
          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }

  //**************************************************************
  //*************                                  ***************
  //*************           查找电话模块             ***************
  //*************                                  ***************
  //**************************************************************
  int Findtel(){
      cout&lt;&lt;&quot;请输入电话或部分电话号码：\n&quot;&lt;&lt;endl;
      char *search=(char*)malloc(sizeof(char)*15);
      gets(search);
      searchtel(search);
      free(search);
      printf(&quot;\n按两次任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchtel(char *search){
      Node *p=head-&gt;next;
      int n = 0;
      while (p!=NULL) {
          if (checksubstr(p-&gt;studentdata.tel, search)==1) {
              n++;
              printsingle(p);
          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }

  //**************************************************************
  //*************                                  ***************
  //*************           查找QQ模块             ***************
  //*************                                  ***************
  //**************************************************************
  int FindQQ(){
      cout&lt;&lt;&quot;请输入QQ号或部分QQ号：\n&quot;&lt;&lt;endl;
      char *search=(char*)malloc(sizeof(char)*15);
      gets(search);
      searchQQ(search);
      free(search);
      printf(&quot;\n按两次任意键返回查找界面&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      Find();
      return 0;
  }

  void searchQQ(char *search){
      Node *p=head-&gt;next;
      int n = 0;
      while (p!=NULL) {
          if (checksubstr(p-&gt;studentdata.QQ, search)==1) {
              n++;
              printsingle(p);
          }
          p=p-&gt;next;
      }
      printf(&quot;\n查找完毕,共%d条结果&quot;,n);
  }


  //**************************************************************
  //*************                                  ***************
  //*************      打印单个节点内的数据            ***************
  //*************                                  ***************
  //**************************************************************
  void printsingle(Node *p){
      int sex=p-&gt;studentdata.sex;
      char sexchar[4];
      if (sex==0) {
          strcpy(sexchar, &quot;女&quot;);
      }
      else{
          strcpy(sexchar, &quot;男&quot;);
      }
      printf(&quot;%-15s&quot;,p-&gt;studentdata.name);//名字位数
      printf(&quot;%-10s\t&quot;,p-&gt;studentdata.num);//学号位数
      printf(&quot;%-7s&quot;,sexchar);
      printf(&quot;%-10s&quot;,p-&gt;studentdata.college);//学院
      printf(&quot;%-32s&quot;,p-&gt;studentdata.major);//专业
      printf(&quot;%-24s&quot;,p-&gt;studentdata.add);//address
      printf(&quot;%-16s&quot;,p-&gt;studentdata.tel);
      printf(&quot;%-12s&quot;,p-&gt;studentdata.QQ);
      printf(&quot;%s&quot;,p-&gt;studentdata.email);
  }
  //**************************************************************
  //*************                                  ***************
  //*************      检查字符串中是否包含某段字符串    ***************
  //*************                                  ***************
  //**************************************************************

  int checksubstr(char *str,char *sub_str)
  {
      int count = 0;
      for(int i=0;i&lt;strlen(str);i++)
      {
          int j = 0;
          for(;j&lt;strlen(sub_str);j++)
          {
              if(*(sub_str+j)!=*(str+i+j))
                  break;
          }
          if(j==strlen(sub_str))count++;
      }
      if (count&gt;0) {
          return 1;
      }
      else{
          return 0 ;
      }
  }



  //**************************************************************
  //*************                                  ***************
  //*************           输出数据模块             ***************
  //*************                                  ***************
  //**************************************************************






  void output(){
      system(&quot;clear&quot;);
      cout&lt;&lt;&quot;键入\t1\t以确定输出所有的数据&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;键入\t2\t以回到主界面&quot;&lt;&lt;endl;
      int n;
      scanf(&quot;%d&quot;,&amp;n);
      switch (n) {
          case 1:
              system(&quot;clear&quot;);
              printlink();
              break;
          case 2:
              system(&quot;clear&quot;);
              menu();
          default:
              system(&quot;clear&quot;);
              output();
              break;
      }
  }
  //**************************************************************
  //*************                                  ***************
  //*************           打印全部数据            ***************
  //*************                                  ***************
  //**************************************************************

  void printlink(){
      Node *p=head-&gt;next;
      cout&lt;&lt;&quot;name       \t&quot;
      &lt;&lt;&quot;number      \t&quot;
      &lt;&lt;&quot;sex   &quot;
      &lt;&lt;&quot;college   &quot;
      &lt;&lt;&quot;major   \t\t\t&quot;
      &lt;&lt;&quot;address     \t\t&quot;
      &lt;&lt;&quot;tel             &quot;
      &lt;&lt;&quot;QQ          &quot;
      &lt;&lt;&quot;Email       &quot;
      &lt;&lt;endl;

      while (p) {
          int sex=p-&gt;studentdata.sex;
          char sexchar[4];
          if (sex==0) {
              strcpy(sexchar, &quot;女&quot;);
          }
          else{
              strcpy(sexchar, &quot;男&quot;);
          }
          printf(&quot;%-15s&quot;,p-&gt;studentdata.name);//名字位数
          printf(&quot;%-10s\t&quot;,p-&gt;studentdata.num);//学号位数
          printf(&quot;%-7s&quot;,sexchar);
          printf(&quot;%-10s&quot;,p-&gt;studentdata.college);//学院
          printf(&quot;%-32s&quot;,p-&gt;studentdata.major);//专业
          printf(&quot;%-24s&quot;,p-&gt;studentdata.add);//address
          printf(&quot;%-16s&quot;,p-&gt;studentdata.tel);
          printf(&quot;%-12s&quot;,p-&gt;studentdata.QQ);
          printf(&quot;%s&quot;,p-&gt;studentdata.email);
          p=p-&gt;next;
      }
      printf(&quot;\n输出完毕\n键入回车以回到主菜单&quot;);
      getchar();
      getchar();
      system(&quot;clear&quot;);
      menu();

  }

  //**************************************************************
  //*************                                  ***************
  //*************           从文件导入模块             ***************
  //*************                                  ***************
  //**************************************************************

  void input(){
      fflush(stdin);
      if ((head-&gt;next-&gt;studentdata.name)!=NULL) {
          printf(&quot;已导入，若要加入数据，请在主菜单选择添加\n&quot;);
          printf(&quot;键入yes覆盖以前的数据\n&quot;);
          printf(&quot;键入其他键返回主菜单\n&quot;);
          char check[3]={0};
          gets(check);
          if (strcmp(check, &quot;yes&quot;)==0) {
          }
          else{
              system(&quot;clear&quot;);
              menu();
              exit(1);
          }
      }
      cout&lt;&lt;&quot;|-------------------------------&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;返回上一级则按回车键&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;请输入导入文件路径：&quot;&lt;&lt;endl;
      char filepath[FILEPATHSIZE];
      gets(filepath);
      if (filepath[0]==&#39;\0&#39;) {
          system(&quot;clear&quot;);
          menu();
      }
      FILE *fp;
      while ((fp=fopen(filepath, &quot;r&quot;))==NULL) {
          printf(&quot;NOT FOUND！！请再次输入:\n&quot;);
          gets(filepath);
          if (filepath[0]==&#39;\0&#39;)
          {
              system(&quot;clear&quot;);
              menu();
              break;
          }
      }
              create(filepath);
              system(&quot;clear&quot;);
      cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      导入成功！       &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
              menu();
  }
  //**************************************************************
  //*************                                  ***************
  //*************           导入文件并创建链表             ***************
  //*************                                  ***************
  //**************************************************************

  void create(char filepath[FILEPATHSIZE]){
      FILE *fp;
      fp=fopen(filepath, &quot;r&quot;);
      linknode *p,*q;
      p=q=::head;
      char buffer[1024];
      char *line,*record;//c保存行数据,单个列元素
      line=fgets(buffer, sizeof(buffer), fp);//丢掉第一行
      while ((line=fgets(buffer, sizeof(buffer), fp))!=NULL) {
          q=(Node*)malloc(sizeof(Node));

          record = strtok(line, &quot;,&quot;);
          strcpy(q-&gt;studentdata.name,record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.num,record);

          record = strtok(NULL, &quot;,&quot;);
          q-&gt;studentdata.sex=atoi(record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.college,record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.major, record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.add, record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.tel,record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.QQ,record);

          record = strtok(NULL, &quot;,&quot;);
          strcpy(q-&gt;studentdata.email, record);


          p-&gt;next=q;
          p=q;
      }
      p-&gt;studentdata.email[strlen(q-&gt;studentdata.email)+1]=&#39;\0&#39;;
      p-&gt;studentdata.email[strlen(q-&gt;studentdata.email)]=&#39;\n&#39;;
      p-&gt;next=NULL;
      fclose(fp);
  }


  //**************************************************************
  //*************                                  ***************
  //*************           发送邮件             ***************
  //*************                                  ***************
  //**************************************************************


  void send(){
      fflush(stdin);
      cout&lt;&lt;&quot;请输入同学姓名&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;输入【1】返回主菜单&quot;&lt;&lt;endl;
      char *name=(char*)malloc(NAMESIZE);
      gets(name);
      Node *p=head;
      if (strcmp(name,&quot;1&quot;)==0) {
          system(&quot;clear&quot;);
          menu();
          exit(1);
      }
      while (p) {
          if (strcmp(p-&gt;studentdata.name,name)==0) {
              break;
          }
          else{
              p=p-&gt;next;
          }
      }
      printsingle(p);
      free(name);
      sendto(p-&gt;studentdata.email);
      system(&quot;clear&quot;);
      cout&lt;&lt;&quot;成功&quot;&lt;&lt;endl;
      menu();
      exit(1);
  }
</code></pre><p>​<br>​      void sendto(char *email)<br>​      {<br>​          printf(“1”);<br>​          char body[] = “From: \”lucy\”<a href="&#109;&#x61;&#105;&#108;&#116;&#111;&#x3a;&#x31;&#x31;&#57;&#x34;&#55;&#57;&#56;&#x31;&#54;&#x30;&#64;&#x71;&#x71;&#x2e;&#99;&#111;&#109;">&#x31;&#x31;&#57;&#x34;&#55;&#57;&#56;&#x31;&#54;&#x30;&#64;&#x71;&#x71;&#x2e;&#99;&#111;&#109;</a>\r\n”//这是我自己的邮箱<br>​          “To: \”dasiy\”<a href="&#109;&#97;&#x69;&#x6c;&#116;&#x6f;&#58;&#49;&#49;&#x39;&#x34;&#55;&#57;&#56;&#x31;&#54;&#x30;&#64;&#113;&#x71;&#46;&#99;&#x6f;&#109;">&#49;&#49;&#x39;&#x34;&#55;&#57;&#56;&#x31;&#54;&#x30;&#64;&#113;&#x71;&#46;&#99;&#x6f;&#109;</a>\r\n”//也是我自己的<br>​          “Subject: caution\r\n\r\n”//主题<br>​          “Fail the test”;//内容<br>​          sendemail(email, body);<br>​      }<br>​<br>      char con628(char c6)<br>      {<br>          printf(“1”);<br>          char rtn = ‘\0’;<br>          if (c6 &lt; 26) rtn = c6 + 65;<br>          else if (c6 &lt; 52) rtn = c6 + 71;<br>          else if (c6 &lt; 62) rtn = c6 - 4;<br>          else if (c6 == 62) rtn = 43;<br>          else rtn = 47;<br>          return rtn;<br>      }</p>
<pre><code>  // base64的实现
  void base64(char *dbuf, char *buf128, int len)
  {
      printf(&quot;1&quot;);
      struct data6 *ddd = NULL;
      int i = 0;
      char buf[256] = {0};
      char *tmp = NULL;
      char cc = &#39;\0&#39;;
      memset(buf, 0, 256);
      strcpy(buf, buf128);
      for(i = 1; i &lt;= len/3; i++)
      {
      tmp = buf+(i-1)*3;
      cc = tmp[2];
      tmp[2] = tmp[0];
      tmp[0] = cc;
      ddd = (struct data6 *)tmp;
      dbuf[(i-1)*4+0] = con628((unsigned int)ddd-&gt;d1);
      dbuf[(i-1)*4+1] = con628((unsigned int)ddd-&gt;d2);
      dbuf[(i-1)*4+2] = con628((unsigned int)ddd-&gt;d3);
      dbuf[(i-1)*4+3] = con628((unsigned int)ddd-&gt;d4);
      }
      if(len%3 == 1)
      {
      tmp = buf+(i-1)*3;
      cc = tmp[2];
      tmp[2] = tmp[0];
      tmp[0] = cc;
      ddd = (struct data6 *)tmp;
      dbuf[(i-1)*4+0] = con628((unsigned int)ddd-&gt;d1);
      dbuf[(i-1)*4+1] = con628((unsigned int)ddd-&gt;d2);
      dbuf[(i-1)*4+2] = &#39;=&#39;;
      dbuf[(i-1)*4+3] = &#39;=&#39;;
      }
      if(len%3 == 2)
      {
      tmp = buf+(i-1)*3;
      cc = tmp[2];
      tmp[2] = tmp[0];
      tmp[0] = cc;
      ddd = (struct data6 *)tmp;
      dbuf[(i-1)*4+0] = con628((unsigned int)ddd-&gt;d1);
      dbuf[(i-1)*4+1] = con628((unsigned int)ddd-&gt;d2);
      dbuf[(i-1)*4+2] = con628((unsigned int)ddd-&gt;d3);
      dbuf[(i-1)*4+3] = &#39;=&#39;;
      }
      return;
  }






  void sendemail(char *email, char *body)
  {
      printf(&quot;1&quot;);
      int sockfd = 0;
      struct sockaddr_in their_addr = {0};
      char buf[1500] = {0};
      char rbuf[1500] = {0};
      char login[128] = {0};
      char pass[128] = {0};
      memset(&amp;their_addr, 0, sizeof(their_addr));
      their_addr.sin_family = AF_INET;
      their_addr.sin_port = htons(25);
      their_addr.sin_addr.s_addr = inet_addr(&quot;112.90.141.71&quot;);//qq smtp 服务器
      // 连接邮件服务器，如果连接后没有响应，则2 秒后重新连接
      sockfd = open_socket((struct sockaddr *)&amp;their_addr);
      memset(rbuf,0,1500);
      while(recv(sockfd, rbuf, 1500, 0) == 0)
      {
          printf(&quot;reconnect...\n&quot;);
          sleep(2);
          //close(sockfd);
          sockfd = open_socket((struct sockaddr *)&amp;their_addr);

          memset(rbuf,0,1500);
      }

      printf(&quot;%s\n&quot;, rbuf);

      // EHLO
      memset(buf, 0, 1500);
      sprintf(buf, &quot;EHLO abcdefg-PC\r\n&quot;);
      send(sockfd, buf, strlen(buf), 0);
      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);

      // AUTH LOGIN
      memset(buf, 0, 1500);
      sprintf(buf, &quot;AUTH LOGIN\r\n&quot;);
      send(sockfd, buf, strlen(buf), 0);
      printf(&quot;%s\n&quot;, buf);
      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);

      // USER
      memset(buf, 0, 1500);
      sprintf(buf,&quot;qq！！！！！！&quot;);//你的qq号
      memset(login, 0, 128);
      base64(login, buf, (int)strlen(buf));
      sprintf(buf, &quot;%s\r\n&quot;, login);
      send(sockfd, buf, strlen(buf), 0);
      printf(&quot;%s\n&quot;, buf);
      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);

      // PASSWORD
      sprintf(buf, &quot;密码！！！！&quot;);
      memset(pass, 0, 128);
      base64(pass, buf, (int)strlen(buf));
      sprintf(buf, &quot;%s\r\n&quot;, pass);
      send(sockfd, buf, strlen(buf), 0);
      printf(&quot;%s\n&quot;, buf);

      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);

      // MAIL FROM
      memset(buf, 0, 1500);
      sprintf(buf, &quot;MAIL FROM: &lt;1194798160@qq.com&gt;\r\n&quot;);
      send(sockfd, buf, strlen(buf), 0);
      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);

      // RCPT TO 第一个收件人
      sprintf(buf, &quot;RCPT TO:&lt;%s&gt;\r\n&quot;, email);
      send(sockfd, buf, strlen(buf), 0);
      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);

      // DATA 准备开始发送邮件内容
      sprintf(buf, &quot;DATA\r\n&quot;);
      send(sockfd, buf, strlen(buf), 0);
      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);

      // 发送邮件内容，\r\n.\r\n内容结束标记
      sprintf(buf, &quot;%s\r\n.\r\n&quot;, body);
      send(sockfd, buf, strlen(buf), 0);
      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);

      // QUIT
      sprintf(buf, &quot;QUIT\r\n&quot;);
      send(sockfd, buf, strlen(buf), 0);
      memset(rbuf, 0, 1500);
      recv(sockfd, rbuf, 1500, 0);
      printf(&quot;%s\n&quot;, rbuf);


      close(sockfd);
      return;

  }
      // 打开TCP Socket连接
  int open_socket(struct sockaddr *addr)
  {
      printf(&quot;1&quot;);
          int sockfd = 0;
          sockfd=socket(PF_INET, SOCK_STREAM, 0);
          if(sockfd &lt; 0)
          {
              fprintf(stderr, &quot;Open sockfd(TCP) error!\n&quot;);
              _exit(-1);
          }
          if(connect(sockfd, addr, sizeof(struct sockaddr)) &lt; 0)
          {
              fprintf(stderr, &quot;Connect sockfd(TCP) error!\n&quot;);
              _exit(-1);
          }
          return sockfd;
  }
</code></pre>
            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/c%E8%AF%AD%E8%A8%80/">c语言</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/c/">c++</a>
                    
                      <a class="hover-with-bg" href="/tags/%E7%AE%97%E6%B3%95/">算法</a>
                    
                      <a class="hover-with-bg" href="/tags/%E6%8C%87%E9%92%88/">指针</a>
                    
                      <a class="hover-with-bg" href="/tags/c%E8%AF%AD%E8%A8%80/">c语言</a>
                    
                      <a class="hover-with-bg" href="/tags/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/">课程设计</a>
                    
                      <a class="hover-with-bg" href="/tags/%E9%93%BE%E8%A1%A8/">链表</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2019/12/31/%E5%9B%A2%E9%98%9F%E5%B9%B4%E9%89%B4-%E6%88%91%E7%9A%842019/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">团队年鉴-我的2019</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2019/12/17/c%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88%E7%9A%84%E5%BA%94%E7%94%A8/">
                        <span class="hidden-mobile">c语言指针的应用</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    
  <div>
    
      <!-- 不蒜子统计PV -->
      
      <span id="busuanzi_container_site_pv" style="display: none">
      总访问量 <span id="busuanzi_value_site_pv"></span> 次
    </span>
    
    
      <!-- 不蒜子统计UV -->
      
      <span id="busuanzi_container_site_uv" style="display: none">
      总访客数 <span id="busuanzi_value_site_uv"></span> 人
    </span>
    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js" ></script>
<script  src="/js/main.js" ></script>


  <script  src="/js/lazyload.js" ></script>



  
  <script  src="https://cdn.staticfile.org/tocbot/4.8.0/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '.post-content',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>





  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




<!-- Plugins -->


  

  

  

  

  

  



  <script  src="https://cdn.staticfile.org/typed.js/2.0.10/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "学生通讯录管理系统（一次c语言的初步探索运用）&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 140,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>


















</body>
</html>
