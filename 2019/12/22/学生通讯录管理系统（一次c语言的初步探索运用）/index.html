<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.png">
  <link rel="icon" type="image/png" href="/img/avatar.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="description" content="Foresight&#39;s blog wangqiuchen 王秋辰">
  <meta name="author" content="Wang Qiuchen">
  <meta name="keywords" content="blog,life,coding">
  <title>学生通讯录管理系统（一次c语言的初步探索运用） ~ Foresight&#39;s blog</title>

  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.10.2/css/all.min.css"  >
<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"  >
<link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.8.9/css/mdb.min.css"  >
<link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"  >
<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">


  <link rel="stylesheet" href="/lib/prettify/github-v2.min.css"  >

<link rel="stylesheet" href="/css/main.css"  >


  <link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"  >


</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Foresight's blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">归档</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">分类</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">关于</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background"
         style="background: url('/img/img1.jpg')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              
                <p class="mt-3">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                  2019/12/22,星期日  23:06 
                </p>
              

              <p>
                
                  
                  &nbsp;<i class="far fa-chart-bar"></i>
                  <span class="post-count">
                    2.1k 字
                  </span>&nbsp;
                

                

                
                  <!-- 不蒜子统计文章PV -->
                  
                  &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp;
                  <span id="busuanzi_container_page_pv">
                    <span id="busuanzi_value_page_pv"></span> 次
                  </span>&nbsp;
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <p>纪念人生第一次手撸2000行代码 (o^^o)♪<br><a id="more"></a><br><img src="https://i.loli.net/2019/12/22/AYRUeJpuT3DLiZP.jpg" srcset="/img/loading.gif" alt></p>
<h1 id="学生通讯录管理系统"><a href="#学生通讯录管理系统" class="headerlink" title="学生通讯录管理系统"></a>学生通讯录管理系统</h1><ul>
<li><strong>c语言课程设计</strong>  <h2 id="HUST-EIC"><a href="#HUST-EIC" class="headerlink" title="HUST EIC"></a>HUST EIC</h2></li>
</ul>
<h2 id="功能概述："><a href="#功能概述：" class="headerlink" title="功能概述："></a>功能概述：</h2><p>这是基于c语言的学生通讯录管理系统，包括以下功能：</p>
<ul>
<li><strong>导入csv等二进制格式文件</strong><ul>
<li>检测是否重复导入：若重复导入，提醒用户是否覆盖，或者回到主界面进行添加功能</li>
<li>检测文件是否存在：若存在则导入，若不存在会提示“NOT FOUND”重新导入</li>
</ul>
</li>
<li><strong>浏览所有学生信息</strong><ul>
<li>一键打印所有同学的所有信息</li>
</ul>
</li>
<li><strong>统计与查找所有学生信息</strong><ul>
<li>支持按各类特征查找，如：只查找名字或只查找学院，所有查找都支持模糊查找，如只输入姓氏，或只输入学院名称的几个字</li>
<li>支持关键字查找：输入关键字查找所有特征（即，把名字，学院，email等与关键字一一对比）</li>
<li>所有查找结果都返回查找的结果的个数</li>
<li>所有查找都支持模糊查找</li>
</ul>
</li>
<li><strong>排序</strong><ul>
<li>排序采用设标签法</li>
<li>设标签后，交换采用数据域的交换，而非结点的交换，有改进空间</li>
</ul>
</li>
<li><strong>删除学生信息</strong><ul>
<li>删除学生信息就是将该结点的上一级指针指向下一级，再free该结点</li>
<li>有避免误删的功能，即多次确定，且打印信息</li>
</ul>
</li>
<li><strong>添加新的学生信息</strong><ul>
<li>设计了两种添加学生信息的方式：<ul>
<li>用户手动添加</li>
<li>通过读取文件添加</li>
</ul>
</li>
<li>两种添加方式都直接添加在末尾</li>
</ul>
</li>
<li><strong>修改学生信息</strong><ul>
<li>根据学号的唯一性，通过学号找到学生本人然后进行修改。</li>
<li>同样具有容错性，例如：若查找不到学生，则打印 NOTFOUND！！</li>
</ul>
</li>
<li><strong>导出表格</strong><ul>
<li>输入导出表格的路径，若存在同名同路径文件，则覆盖，若不存在，则创建   </li>
</ul>
</li>
<li><strong>通知</strong><ul>
<li>base64加密和soket部分代码为网上demo，有些库函数不知osx和windows能否兼容<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><pre><code class="lang-mermaid">graph LR
A[主界面] --&gt; B[导入文件]
A[主界面] --&gt; C[排序]
A[主界面] --&gt; D[浏览所有]
A[主界面] --&gt; E[统计和查找]
A[主界面] --&gt; F[添加新的学生信息]
A[主界面] --&gt; G[修改学生信息]
A[主界面] --&gt; H[删除学生信息]
A[主界面] --&gt; I[导出]
A[主界面] --&gt; J[通知学生]
A[主界面] --&gt; K(退出程序)
B--&gt;输入文件路径
C--&gt;按姓名字典顺序排序
C--&gt;按学号排序
D--&gt;列表浏览所有学生信息
E--&gt;5(统计与查找)
5--&gt;按学号查找
5--&gt;按名字查找
5--&gt;按学院查找
5--&gt;按地址查找
5--&gt;按电话查找
5--&gt;按邮箱查找
F--&gt;手动添加
F--&gt;文件添加
G--&gt;查找--&gt;选择修改特征--&gt;键入修改后值--&gt;修改成功
H--&gt;查找删除学生信息--&gt;1{确定删除}--&gt;删除
I--&gt;选择输出路径--&gt;导出成功
J--&gt;输入学生邮箱--&gt;send
</code></pre>
<h2 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h2></li>
</ul>
</li>
<li><strong>结构采用一个功能一个模块（子函数），实现模块间的相互独立</strong></li>
<li><strong>存储数据的链表的表头是全局链表，可以不用传递参数便随时调取</strong></li>
<li><strong>进入功能后可以随时退出，回到主界面</strong></li>
<li><strong>所有模块都具有容错性</strong></li>
<li><strong>代码除「通知」模块的一部分，其他为纯手写</strong><h2 id="不足和改进空间"><a href="#不足和改进空间" class="headerlink" title="不足和改进空间"></a>不足和改进空间</h2></li>
<li>在统计和查找模块，可以利用定义函数来减少代码行数，但时间不足，暂来不及改变</li>
<li>结构还不够简洁</li>
<li>对学生信息的修改功能上，没有批量修改</li>
<li>对学生的信息统计能统计数目，暂不能有更多的统计功能</li>
<li>所有数据仅支持英文，中文在terminal中测试为乱码</li>
<li>发送通知的功能还需继续学习更多有关通信和加密的知识<h2 id="总结收获"><a href="#总结收获" class="headerlink" title="总结收获"></a>总结收获</h2></li>
<li>学会了链表的增删查改</li>
<li>学会了用c语言读写文件</li>
<li>对数组、指针、结构体的运用能力更近了一层</li>
<li>debug能力更强</li>
<li>初步接触套接字</li>
</ul>
<pre><code>//
</code></pre><p>  //  main.cpp<br>  //  addresslist<br>  //<br>  //  Created by 王秋辰 on 2019/12/17.<br>  //  Copyright © 2019 王秋辰. All rights reserved.</p>
<p>  //电信1901班   王秋辰</p>
<p>  /<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  caution!!!!!!!<br>  atoi转换char为int<br>  表格的形式必须为类似一下例子的可读文件，csv或者txt皆可<br>  列分隔用“，”。行分隔用’\n’</p>
<p>  name,num,sex,college,major,add,tel,QQ,email<br>  mike,U201912345,1,EIC,eletricial information,yunyuan 23 107,13972108706,1194798160,1194798160@qq.com<br>  john,U201912346,0,CS,computer science,yunyuan 22 106,13972108707,1194798161,1194798160@qq.com<br>  eric,U201912347,1,EIC,eletricial information,yunyuan 23 106,13972108708,1194798162,1194798160@qq.com</p>
<p>  通知功能需要配置邮箱的   POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务 才能使用 &lt;&lt;—(不太懂)</p>
<p>  <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>/</p>
<p>  //email模块所需</p>
<h1 id="include"><a href="#include" class="headerlink" title="include "></a>include <sys types.h></sys></h1><h1 id="include-1"><a href="#include-1" class="headerlink" title="include "></a>include <sys socket.h></sys></h1><h1 id="include-2"><a href="#include-2" class="headerlink" title="include "></a>include <netinet in.h></netinet></h1><h1 id="include-3"><a href="#include-3" class="headerlink" title="include "></a>include <errno.h></errno.h></h1><h1 id="include-4"><a href="#include-4" class="headerlink" title="include "></a>include <unistd.h></unistd.h></h1><h1 id="include-5"><a href="#include-5" class="headerlink" title="include "></a>include <sys time.h></sys></h1><h1 id="include-6"><a href="#include-6" class="headerlink" title="include "></a>include <cstring></cstring></h1><h1 id="include-7"><a href="#include-7" class="headerlink" title="include "></a>include <arpa inet.h></arpa></h1><p>  //</p>
<h1 id="include-8"><a href="#include-8" class="headerlink" title="include "></a>include <iostream></iostream></h1><h1 id="include-9"><a href="#include-9" class="headerlink" title="include "></a>include <stdio.h></stdio.h></h1><h1 id="include-10"><a href="#include-10" class="headerlink" title="include "></a>include <stdlib.h></stdlib.h></h1><h1 id="include-11"><a href="#include-11" class="headerlink" title="include "></a>include <string.h></string.h></h1><h1 id="define-NAMESIZE-99"><a href="#define-NAMESIZE-99" class="headerlink" title="define NAMESIZE 99"></a>define NAMESIZE 99</h1><h1 id="define-MAJORSIZE-99"><a href="#define-MAJORSIZE-99" class="headerlink" title="define MAJORSIZE 99"></a>define MAJORSIZE 99</h1><h1 id="define-ADDSIZE-99"><a href="#define-ADDSIZE-99" class="headerlink" title="define ADDSIZE 99"></a>define ADDSIZE 99</h1><h1 id="define-EMAILSIZE-99"><a href="#define-EMAILSIZE-99" class="headerlink" title="define EMAILSIZE 99"></a>define EMAILSIZE 99</h1><h1 id="define-COLLEGESIZE-99"><a href="#define-COLLEGESIZE-99" class="headerlink" title="define COLLEGESIZE 99"></a>define COLLEGESIZE 99</h1><h1 id="define-NUMSIZE-99"><a href="#define-NUMSIZE-99" class="headerlink" title="define NUMSIZE 99"></a>define NUMSIZE 99</h1><h1 id="define-TELSIZE-99"><a href="#define-TELSIZE-99" class="headerlink" title="define TELSIZE 99"></a>define TELSIZE 99</h1><h1 id="define-QQSIZE-99"><a href="#define-QQSIZE-99" class="headerlink" title="define QQSIZE 99"></a>define QQSIZE 99</h1><h1 id="define-SIZE-99-存储的最大容量"><a href="#define-SIZE-99-存储的最大容量" class="headerlink" title="define SIZE 99//存储的最大容量"></a>define SIZE 99//存储的最大容量</h1><h1 id="define-FILEPATHSIZE-99"><a href="#define-FILEPATHSIZE-99" class="headerlink" title="define FILEPATHSIZE 99"></a>define FILEPATHSIZE 99</h1><h1 id="define-CHANGESIZE-40"><a href="#define-CHANGESIZE-40" class="headerlink" title="define CHANGESIZE 40"></a>define CHANGESIZE 40</h1><p>  using namespace std;</p>
<p>  typedef struct student{<br>      char name[NAMESIZE];//姓名<br>      char num[NUMSIZE];//学号<br>      int sex;//man:1  woman:0<br>      char college[COLLEGESIZE];//学院<br>      char major[MAJORSIZE];//专业<br>      char add[ADDSIZE];//地址<br>      char tel[TELSIZE];//电话<br>      char QQ[QQSIZE];//qq<br>      char email[EMAILSIZE];//电子邮箱<br>  } datatype;</p>
<p>  typedef struct linknode{<br>      datatype studentdata;<br>      linknode <em>next;<br>  } Node,</em>linklist;//定义节点</p>
<p>  linknode <em>head=(Node</em>)malloc(sizeof(Node));//表头</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>    打印所有学生信息模块声明           <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void printlink();//打印所有学生信息的界面<br>  void output();//展示所有信息</p>
<p>  int menu(void);//主菜单<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>          导入模块声明             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void create(char filepath[FILEPATHSIZE]);//=根据文件路径导入；创建链表<br>  void input();//导入信息界面<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找模块声明             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void Find();//查找界面<br>  int checksubstr(char <em>str,char </em>sub_str);//检查字符串中是否包含子字符串<br>  void printsingle(Node <em>p);//打印单个节点学生数据<br>  int Findnum();//查找学号界面；输入学号<br>  void searchnum(char </em>search);//按学号查找<br>  int Findname();//按姓名查找界面;输入关键字<br>  void searchname(char <em>search);//按姓名查找<br>  int Findtel();//按电话查找界面;输入关键字<br>  void searchtel(char </em>search);//按电话查找<br>  int FindQQ();//按QQ查找界面;输入关键字<br>  void searchQQ(char <em>search);//按QQ查找<br>  int Findall();//关键字查找<br>  void searchall(char </em>search);<br>  int Findsex();//性别查找<br>  void searchsex(int search);<br>  int Findmajor();//专业查找<br>  void searchmajor(char <em>search);<br>  int Findaddress();//地址查找<br>  void searchaddress(char </em>search);<br>  int Findcollege();//学院查找<br>  void searchcollege(char <em>search);<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><em>**</em></strong></strong></em>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           修改数据模块声明             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void changedata();//界面<br>  linklist searchnumchange(char <em>search);//找到待修改的值，并返回节点指针<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><em>**</em></strong></strong></em>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           删除数据模块声明          <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void deletedata();//界面<br>  linklist findthefront();//找到待c删除节点的前一个节点，返回指针</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           添加数据模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void adddata();//界面<br>  void writebyhand();//手动写入<br>  void writebyfile();//文件写入</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           导出数据模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void exportdata();//界面和导出<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           排序模块声明             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void sortdata();//界面<br>  void sortbynum();//按学号排序<br>  void exchange(linknode <em>p,linknode </em>q);//交换两个指针内的data<br>  void sortbyname();//按name排序</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           发送邮件             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void send();<br>  struct data6<br>  {<br>      unsigned int d4:6;<br>      unsigned int d3:6;<br>      unsigned int d2:6;<br>      unsigned int d1:6;<br>  };<br>  // 协议中加密部分使用的是base64方法<br>  char con628(char c6);<br>  void base64(char <em>dbuf,char </em>buf128,int len);<br>  void sendemail(char <em>email,char </em>body);<br>  int open_socket(struct sockaddr <em>addr);<br>  void sendto(char </em>email);<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           主函数。                <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int main() {<br>      system(“clear”);//osx环境<br>      menu();<br>      return 0;<br>  }<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           主菜单。                <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int menu(void){<br>      cout&lt;&lt;”|———————————————“&lt;&lt;endl;<br>      cout&lt;&lt;”|-&gt;这里是学生通讯录管理系统&lt;-|”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[1]-导入”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[2]-按条件排序”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[3]-浏览所有学生信息”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[4]-统计与查找”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[5]-添加新的学生信息”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[6]-修改学生信息”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[7]-删除学生信息”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[8]-导出”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[9]-通知学生”&lt;&lt;endl;<br>      cout&lt;&lt;”|——[0]-退出程序”&lt;&lt;endl;<br>      cout&lt;&lt;”|———————————————“&lt;&lt;endl;<br>      cout&lt;&lt;”请输入要进行的操作-&gt;”&lt;&lt;endl;</p>
<pre><code>  int n=-1;
  scanf(&quot;%d&quot;,&amp;n);
  if (n&lt;=9&amp;&amp;n&gt;=1) {
      switch (n) {
          case 1:
              system(&quot;clear&quot;);
              input();
              break;
          case 2:
              system(&quot;clear&quot;);
              sortdata();
              break;
          case 3:
              system(&quot;clear&quot;);
              output();
              break;
          case 4:
              system(&quot;clear&quot;);
              Find();
              break;
          case 5:
              system(&quot;clear&quot;);
              adddata();
              break;
          case 6:
              system(&quot;clear&quot;);
              changedata();
              break;
          case 7:
              system(&quot;clear&quot;);
              deletedata();
              break;
          case 8:
              system(&quot;clear&quot;);
              exportdata();
              break;
          case 9:
              system(&quot;clear&quot;);
              send();
              break;
          case 0:
              exit(1);
          default:
              break;
      }}
  else{
      fflush(stdin);
      system(&quot;clear&quot;);//osx环境
      printf(&quot;请键入正确的操作！！！\n&quot;);
      menu();

  }
  return 0;
</code></pre><p>  }<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           通知模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           排序模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  void sortdata(){<br>      cout&lt;&lt;”|————[1]-按姓名排序”&lt;<endl; cout<<"|--------[2]-按学号排序"<<endl; cout<<"|--------[0]-返回主菜单"<<endl; cout<<"|--------请输入你的选项："<<endl; int n="-1;" scanf("%d",&n); fflush(stdin); switch (n) { case 1: sortbyname(); system("clear"); cout<<"-------------------------------------------"<<endl; cout<<">>>>>>>>>>                     <<<<<<<<<<<<"<<endl; cout<<">>>>>>>>>>      姓氏排序成功！    <<<<<<<<<<<<"<<endl; cout<<">>>>>>>>>>                     <<<<<<<<<<<<"<<endl; cout<<"-------------------------------------------"<<endl; menu(); break; case 2: sortbynum(); system("clear"); cout<<">>>>>>>>>>                     <<<<<<<<<<<<"<<endl; cout<<">>>>>>>>>>      学号排序成功！    <<<<<<<<<<<<"<<endl; cout<<">>>>>>>>>>                     <<<<<<<<<<<<"<<endl; cout<<"-------------------------------------------"<<endl; menu(); break; case 0: system("clear"); printf(">>>>请输入正确的选项!!!!!<<<<"); sortdata(); exit(1); break; default: } ************************************************************** ************* *************** 按学号排序 void sortbynum(){ linknode *p,*q; p="head;" while (p) { q="p-">next;<br>          linknode *themin=p;<br>          while (q) {<br>              if (strcmp(p-&gt;studentdata.num, q-&gt;studentdata.num)&gt;0) {<br>                  themin=q;<br>              }<br>              q=q-&gt;next;<br>          }<br>          exchange(p, themin);<br>          p=p-&gt;next;<br>      }<br>  }</");></"<<endl;></"<<endl;></"<<endl;></"<<endl;></"<<endl;></"<<endl;></endl;></p>
<p>  void exchange(linknode <em>p,linknode </em>q)<br>  {<br>      linknode <em>temp=(linknode</em>)malloc(sizeof(Node));<br>      temp-&gt;studentdata = p-&gt;studentdata;<br>      p-&gt;studentdata = q-&gt;studentdata;<br>      q-&gt;studentdata = temp -&gt; studentdata;<br>      free(temp);<br>  }<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           按姓名排序             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void sortbyname(){<br>      linknode <em>p,</em>q;<br>      p=head;<br>      while (p) {<br>          q=p-&gt;next;<br>          linknode *themin=p;<br>          while (q) {<br>              if (strcmp(p-&gt;studentdata.name, q-&gt;studentdata.name)&gt;0) {<br>                  themin=q;<br>              }<br>              q=q-&gt;next;<br>          }<br>          exchange(p, themin);<br>          p=p-&gt;next;<br>      }<br>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           导出数据模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void exportdata(){<br>      fflush(stdin);<br>      cout&lt;&lt;”|———————————————-“&lt;<endl; cout<<"返回上一级则按回车键"<<endl; cout<<"请输入导出文件路径(若文件存在，则会被覆盖)："<<endl; char filepath[filepathsize]; gets(filepath); if (filepath[0]="='\0')" { system("clear"); menu(); } file *fp="fopen(filepath," "w"); node *read="head-">next;<br>      fputs(“name,num,sex,college,major,add,tel,QQ,email\n”, fp);<br>      while (read) {<br>          char tempsex[2];<br>          if (read-&gt;studentdata.sex==1) {<br>              strcpy(tempsex, “1”);<br>          }<br>          if (read-&gt;studentdata.sex==0) {<br>              strcpy(tempsex, “0”);<br>          }<br>          fputs(read-&gt;studentdata.name, fp);<br>          fputs(“,”, fp);<br>          fputs(read-&gt;studentdata.num, fp);<br>          fputs(“,”, fp);<br>          fputs(tempsex, fp);<br>          fputs(“,”, fp);<br>          fputs(read-&gt;studentdata.college, fp);<br>          fputs(“,”, fp);<br>          fputs(read-&gt;studentdata.major, fp);<br>          fputs(“,”, fp);<br>          fputs(read-&gt;studentdata.add, fp);<br>          fputs(“,”, fp);<br>          fputs(read-&gt;studentdata.tel, fp);<br>          fputs(“,”, fp);<br>          fputs(read-&gt;studentdata.QQ, fp);<br>          fputs(“,”, fp);<br>          fputs(read-&gt;studentdata.email, fp);<br>          read=read-&gt;next;<br>      }<br>      fclose(fp);<br>      system(“clear”);<br>      cout&lt;&lt;”导出文件成功!”&lt;&lt;endl;<br>      cout&lt;&lt;”文件在”&lt;&lt;filepath&lt;&lt;”中”&lt;&lt;endl;<br>      cout&lt;&lt;”按任意键回到主菜单”&lt;&lt;endl;<br>      getchar();<br>      system(“clear”);<br>      fflush(stdin);<br>      menu();<br>      exit(1);<br>  }</endl;></p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           添加数据模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  void adddata()<br>  {<br>      fflush(stdin);<br>      cout&lt;&lt;”|————-[1]-从当前界面手动写入”&lt;&lt;endl;<br>      cout&lt;&lt;”|————-[2]-从文件导入，从数据最后一行添加”&lt;&lt;endl;<br>      cout&lt;&lt;”|————-[3]-回到主界面”&lt;&lt;endl;<br>      cout&lt;&lt;”请输入你的选项:”&lt;&lt;endl;<br>      int n = 0;<br>      fflush(stdin);<br>      scanf(“%d”,&amp;n);<br>      fflush(stdin);<br>      switch (n) {<br>          case 1:<br>              writebyhand();<br>              break;<br>          case 2:<br>              writebyfile();<br>              break;<br>          case 3:<br>              fflush(stdin);<br>              system(“clear”);<br>              menu();<br>              exit(1);<br>          default:<br>              fflush(stdin);<br>              system(“clear”);<br>              adddata();<br>              break;<br>      }<br>      exit(1);<br>  }</p>
<p>  void writebyhand(){<br>      fflush(stdin);<br>      char <em>temname=(char</em>)malloc(NAMESIZE);<br>      char <em>temnum=(char</em>)malloc(NUMSIZE);<br>      int temsex=2;<br>      char <em>temcollege=(char</em>)malloc(COLLEGESIZE);<br>      char <em>temmajor=(char</em>)malloc(MAJORSIZE);<br>      char <em>temadd=(char</em>)malloc(ADDSIZE);<br>      char <em>temtel=(char</em>)malloc(TELSIZE);<br>      char <em>temQQ=(char</em>)malloc(QQSIZE);<br>      char <em>tememail=(char</em>)malloc(EMAILSIZE);<br>      cout&lt;&lt;”请输入姓名”&lt;<endl; gets(temname); cout<<"请输入学号"<<endl; gets(temnum); while (!(temsex="=1||temsex==0))" { cout<<"请输入性别(男生为1，女生为0)"<<endl; scanf("%d",&temsex); if temsex="2;" cout<<"请输入正确的数据!!!"<<endl; } fflush(stdin); cout<<"请输入学院"<<endl; gets(temcollege); cout<<"请输入专业"<<endl; gets(temmajor); cout<<"请输入地址"<<endl; gets(temadd); cout<<"请输入电话"<<endl; gets(temtel); cout<<"请输入qq"<<endl; gets(temqq); cout<<"请输入email"<<endl; fgets(tememail, emailsize, stdin); linknode *theend="head;" (theend->next) {<br>          theend=theend-&gt;next;<br>      }<br>      linknode *tem;</endl;></p>
<pre><code>  tem=(Node*)malloc(sizeof(Node));

  strcpy(tem-&gt;studentdata.name,temname);
  strcpy(tem-&gt;studentdata.num,temnum);
  tem-&gt;studentdata.sex=temsex;
  strcpy(tem-&gt;studentdata.college,temcollege);
  strcpy(tem-&gt;studentdata.major,temmajor);
  strcpy(tem-&gt;studentdata.add,temadd);
  strcpy(tem-&gt;studentdata.tel,temtel);
  strcpy(tem-&gt;studentdata.QQ,temQQ);
  strcpy(tem-&gt;studentdata.email,tememail);
  tem-&gt;next=NULL;
  theend-&gt;next=tem;



  free(temadd);
  free(tememail);
  free(temtel);
  free(temQQ);
  free(temmajor);
  free(temcollege);
  free(temnum);
  free(temname);
  fflush(stdin);
  system(&quot;clear&quot;);
  cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
  cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
  cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      手动导入成功！       &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
  cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
  cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
  menu();
  exit(1);
</code></pre><p>  }</p>
<p>  void writebyfile()<br>  {<br>      cout&lt;&lt;”|———————————————-“&lt;<endl; cout<<"返回上一级则按回车键"<<endl; cout<<"请输入导入文件路径："<<endl; char filepath[filepathsize]; gets(filepath); if (filepath[0]="='\0')" { system("clear"); menu(); } file *fp; while ((fp="fopen(filepath," "r"))="=NULL)" printf("not found！！请再次输入:\n"); break; linknode *theend="head;" (theend->next) {<br>          theend=theend-&gt;next;<br>      }<br>      fp=fopen(filepath, “r”);<br>      linknode <em>p,</em>q;<br>      p=q=theend;<br>      char buffer[1024];<br>      char <em>line,</em>record;//c保存行数据,单个列元素<br>      line=fgets(buffer, sizeof(buffer), fp);//丢掉第一行<br>      while ((line=fgets(buffer, sizeof(buffer), fp))!=NULL) {<br>          q=(Node*)malloc(sizeof(Node));</endl;></p>
<pre><code>      record = strtok(line, &quot;,&quot;);
      strcpy(q-&gt;studentdata.name,record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.num,record);

      record = strtok(NULL, &quot;,&quot;);
      q-&gt;studentdata.sex=atoi(record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.college,record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.major, record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.add, record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.tel,record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.QQ,record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.email, record);


      p-&gt;next=q;
      p=q;
  }
  p-&gt;studentdata.email[strlen(q-&gt;studentdata.email)+1]=&#39;\0&#39;;
  p-&gt;studentdata.email[strlen(q-&gt;studentdata.email)]=&#39;\n&#39;;
  p-&gt;next=NULL;
  fclose(fp);
  fflush(stdin);
  system(&quot;clear&quot;);
  cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
  cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
  cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      文件导入成功！    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
  cout&lt;&lt;&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;&lt;&lt;endl;
  cout&lt;&lt;&quot;-------------------------------------------&quot;&lt;&lt;endl;
  menu();
  exit(1);
</code></pre><p>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           删除数据模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void deletedata(){<br>      fflush(stdin);<br>      cout&lt;&lt;”请输入要删除的学生学号「完整学号」：”&lt;<endl; cout<<"输入q回到主界面"<<endl; char *studentnum="(char*)malloc(NUMSIZE);" gets(studentnum); if (strcmp(studentnum, "q")="=0)" { system("clear"); menu(); exit(1); } linklist target="searchnumchange(studentnum);" if(target){ printsingle(target->next);<br>          printf(“确定删除吗？（y/n）”);<br>          fflush(stdin);<br>          char <em>check=(char</em>)malloc(sizeof(3));<br>          gets(check);<br>          if (strcmp(check, “y”)==0||strcmp(check, “Y”)==0) {<br>              linklist p=target-&gt;next;<br>              target-&gt;next=p-&gt;next;<br>              free(p);<br>              free(target);<br>              free(check);<br>              system(“clear”);<br>              cout&lt;&lt;”删除成功”&lt;&lt;endl;<br>              deletedata();<br>          }<br>          else{<br>              free(target);<br>              free(check);<br>              system(“clear”);<br>              fflush(stdin);<br>              deletedata();<br>          }<br>      }<br>      else<br>      {<br>          fflush(stdin);<br>          free(target);<br>          free(studentnum);<br>          system(“clear”);<br>          printf(“NOT FOUND”);<br>          deletedata();<br>          exit(1);<br>      }<br>  }</endl;></p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           修改数据模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void changedata(){<br>      fflush(stdin);<br>      cout&lt;&lt;”请输入要修改的学生学号「完整学号」：”&lt;<endl; cout<<"输入q回到主界面"<<endl; char *studentnum="(char*)malloc(NUMSIZE);" gets(studentnum); if (strcmp(studentnum, "q")="=0)" { system("clear"); menu(); exit(1); } linklist check="searchnumchange(studentnum);" if(check){ while (check) printsingle(check); cout<<"[1]修改姓名"<<endl; cout<<"[2]修改学号"<<endl; cout<<"[3]修改性别(男生为1，女生为2）"<<endl; cout<<"[4]修改学院"<<endl; cout<<"[5]修改专业"<<endl; cout<<"[6]修改地址"<<endl; cout<<"[7]修改电话"<<endl; cout<<"[8]修改qq"<<endl; cout<<"[9]修改电子邮箱"<<endl; cout<<"[其他任意]返回主页面"<<endl; cout<<"请输入你的选项:"<<endl; int n="-1;" scanf("%d",&n); (!(n<="9&&n">=1)) {<br>              changedata();<br>          }<br>          fflush(stdin);<br>          cout&lt;&lt;”修改为：”&lt;<endl; char *change="(char*)malloc(sizeof(CHANGESIZE));" gets(change); switch (n) { case 1: strcpy(check->studentdata.name,change);<br>                  break;<br>              case 2:<br>                  strcpy(check-&gt;studentdata.num, change);<br>                  break;<br>              case 3:<br>                  if(strcmp(change,”1”)==0)<br>                      check-&gt;studentdata.sex=1;<br>                  else if(strcmp(change,”2”)==0)<br>                      check-&gt;studentdata.sex=0;<br>                  break;<br>              case 4:<br>                  strcpy(check-&gt;studentdata.college, change);<br>                  break;<br>              case 5:<br>                  strcpy(check-&gt;studentdata.major, change);<br>                  break;<br>              case 6:<br>                  strcpy(check-&gt;studentdata.add, change);<br>                  break;<br>              case 7:<br>                  strcpy(check-&gt;studentdata.tel, change);<br>                  break;<br>              case 8:<br>                  strcpy(check-&gt;studentdata.QQ, change);<br>                  break;<br>              case 9:<br>                  strcpy(check-&gt;studentdata.email, change);<br>                  break;<br>              default:<br>                  break;<br>          }</endl;></endl;></p>
<pre><code>      fflush(stdin);
      cout&lt;&lt;&quot;修改成功!!!!&quot;&lt;&lt;endl;
      cout&lt;&lt;&quot;需要继续修改吗（y/n）?&quot;&lt;&lt;endl;
      char *goon=(char*)malloc(sizeof(4));
          gets(goon);

          if (strcmp(goon,&quot;y&quot;)==0||strcmp(goon, &quot;Y&quot;)==0) {
              free(goon);
              continue;
          }
          else{
              free(change);
              free(studentnum);
              free(goon);
              system(&quot;clear&quot;);
              menu();
              exit(1);
          }
  }
  }
  else{
      free(studentnum);
      system(&quot;clear&quot;);
      printf(&quot;NOT FOUND&quot;);
      changedata();
      exit(1);

  }
</code></pre><p>  }</p>
<p>  linklist searchnumchange(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;studentdata.num, search)==1) {<br>              return p;<br>          }<br>          p=p-&gt;next;<br>      }<br>      return NULL;<br>  }<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找数据模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  void Find(void){<br>      cout&lt;&lt;”|———————————————-“&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[1]-按【姓名】统计与查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[2]-按【学号】统计与查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[3]-按【电话】查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[4]-按【QQ】查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[5]-按【学院】统计与查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[6]-按【专业】统计与查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[7]-按【地址】统计与查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[8]-按【性别】统计与查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[9]-关键字查找”&lt;&lt;endl;<br>      cout&lt;&lt;”｜——[0]-返回主界面”&lt;&lt;endl;<br>      cout&lt;&lt;”<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>**</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>“&lt;&lt;endl;<br>      cout&lt;&lt;”<strong><strong>*</strong></strong>                   caution!                  <strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong>“&lt;&lt;endl;<br>      cout&lt;&lt;”<strong><strong>*</strong></strong>    按特征查找支持模糊查找，例如：姓名可输入姓氏查找   <strong><strong><strong>*</strong></strong></strong>“&lt;&lt;endl;<br>      cout&lt;&lt;”<strong><strong>*</strong></strong>           关键字查找会对所有特征进行查找           <strong><strong><strong><strong><em>*</em></strong></strong></strong></strong>“&lt;&lt;endl;<br>      cout&lt;&lt;”<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>*</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>“&lt;&lt;endl;<br>      cout&lt;&lt;”请输入选项:”&lt;&lt;endl;<br>      int n = 0;<br>      scanf(“%d”,&amp;n);<br>      fflush(stdin);<br>      switch (n) {<br>          case 1:<br>              system(“clear”);<br>              Findname();<br>              break;<br>          case 2:<br>              system(“clear”);<br>              Findnum();<br>              break;<br>          case 3:<br>              system(“clear”);<br>              Findtel();<br>              break;<br>          case 4:<br>              system(“clear”);<br>              FindQQ();<br>              break;<br>          case 5:<br>              system(“clear”);<br>              Findcollege();<br>              break;<br>          case 6:<br>              system(“clear”);<br>              Findmajor();<br>              break;<br>          case 7:<br>              system(“clear”);<br>              Findaddress();<br>              break;<br>          case 8:<br>              system(“clear”);<br>              Findsex();<br>              break;<br>          case 9:<br>              system(“clear”);<br>              Findall();<br>              break;<br>          default:<br>              system(“clear”);<br>              menu();<br>              break;<br>      }<br>  }</p>
<p>  linklist findthefront(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;next-&gt;studentdata.num, search)==1) {<br>              return p;<br>          }<br>          p=p-&gt;next;<br>      }<br>      return NULL;<br>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           关键字查找模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int Findall(){<br>      cout&lt;&lt;”请输入关键字：\n”&lt;&lt;endl;<br>      char <em>search=(char</em>)malloc(sizeof(char)*15);<br>      gets(search);<br>      searchall(search);<br>      free(search);<br>      printf(“\n按两次任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchall(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      int n=0;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;studentdata.num, search)||<br>              checksubstr(p-&gt;studentdata.name, search)||<br>              checksubstr(p-&gt;studentdata.tel, search)||<br>              checksubstr(p-&gt;studentdata.QQ, search)||<br>              checksubstr(p-&gt;studentdata.add, search)||<br>              checksubstr(p-&gt;studentdata.college, search)||<br>              checksubstr(p-&gt;studentdata.email, search)||<br>              checksubstr(p-&gt;studentdata.major, search)) {<br>              n++;<br>              printsingle(p);<br>          }<br>          p=p-&gt;next;<br>      }<br>      printf(“\n查找完毕,共%d条结果”,n);<br>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找学院模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int Findcollege(){<br>      cout&lt;&lt;”请输入学院或学院名称关键字：\n”&lt;&lt;endl;<br>      char <em>search=(char</em>)malloc(sizeof(char)*15);<br>      gets(search);<br>      searchcollege(search);<br>      free(search);<br>      printf(“\n按两次任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchcollege(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      int n=0;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;studentdata.college, search)==1) {<br>              n++;<br>              printsingle(p);</p>
<pre><code>      }
      p=p-&gt;next;
  }
  printf(&quot;\n查找完毕,共%d条结果&quot;,n);
</code></pre><p>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找专业模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int Findmajor(){<br>      cout&lt;&lt;”请输入学院或学院名称关键字：\n”&lt;&lt;endl;<br>      char <em>search=(char</em>)malloc(sizeof(char)*15);<br>      gets(search);<br>      searchmajor(search);<br>      free(search);<br>      printf(“\n按两次任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchmajor(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      int n=0;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;studentdata.major, search)==1) {<br>              n++;<br>              printsingle(p);<br>          }<br>          p=p-&gt;next;<br>      }<br>      printf(“\n查找完毕,共%d条结果”,n);<br>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找地址模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int Findaddress(){<br>      cout&lt;&lt;”请输入专业或专业名称关键字：\n”&lt;&lt;endl;<br>      char <em>search=(char</em>)malloc(sizeof(char)*15);<br>      gets(search);<br>      searchcollege(search);<br>      free(search);<br>      printf(“\n按任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchaddress(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      int n=0;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;studentdata.add, search)==1) {<br>              n++;<br>              printsingle(p);</p>
<pre><code>      }
      p=p-&gt;next;
  }
  printf(&quot;\n查找完毕,共%d条结果&quot;,n);
</code></pre><p>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找性别模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int Findsex(){<br>      cout&lt;&lt;”请输入性别（男生键入数字1，女生键入数字0）：\n”&lt;&lt;endl;<br>      int search = -1;<br>      scanf(“%d”,&amp;search);<br>      searchsex(search);<br>      printf(“\n按两次任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchsex(int search){<br>      int n = 0;<br>      Node *p=head-&gt;next;<br>      while (p!=NULL) {<br>          if (p-&gt;studentdata.sex==search) {<br>              n++;<br>              printsingle(p);</p>
<pre><code>      }
      p=p-&gt;next;
  }
  printf(&quot;\n查找完毕,共%d条结果&quot;,n);
</code></pre><p>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找学号模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int Findnum(){<br>      cout&lt;&lt;”请输入学号或部分学号：\n”&lt;&lt;endl;<br>      char <em>search=(char</em>)malloc(sizeof(char)*15);<br>      gets(search);<br>      searchnum(search);<br>      free(search);<br>      printf(“\n按两次任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchnum(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      int n=0;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;studentdata.num, search)==1) {<br>              n++;<br>              printsingle(p);</p>
<pre><code>      }
      p=p-&gt;next;
  }
  printf(&quot;\n查找完毕,共%d条结果&quot;,n);
</code></pre><p>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找姓名模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int Findname(){<br>      cout&lt;&lt;”请输入姓名或关键字：\n”&lt;&lt;endl;<br>      char <em>search=(char</em>)malloc(sizeof(char)*15);<br>      gets(search);<br>      searchname(search);<br>      free(search);<br>      printf(“\n按两次任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchname(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      int n = 0;<br>      while (p) {<br>          if (checksubstr(p-&gt;studentdata.name, search)==1) {<br>              n++;<br>              printsingle(p);<br>          }<br>          p=p-&gt;next;<br>      }<br>      printf(“\n查找完毕,共%d条结果”,n);<br>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找电话模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int Findtel(){<br>      cout&lt;&lt;”请输入电话或部分电话号码：\n”&lt;&lt;endl;<br>      char <em>search=(char</em>)malloc(sizeof(char)*15);<br>      gets(search);<br>      searchtel(search);<br>      free(search);<br>      printf(“\n按两次任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchtel(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      int n = 0;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;studentdata.tel, search)==1) {<br>              n++;<br>              printsingle(p);<br>          }<br>          p=p-&gt;next;<br>      }<br>      printf(“\n查找完毕,共%d条结果”,n);<br>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           查找QQ模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  int FindQQ(){<br>      cout&lt;&lt;”请输入QQ号或部分QQ号：\n”&lt;&lt;endl;<br>      char <em>search=(char</em>)malloc(sizeof(char)*15);<br>      gets(search);<br>      searchQQ(search);<br>      free(search);<br>      printf(“\n按两次任意键返回查找界面”);<br>      getchar();<br>      getchar();<br>      system(“clear”);<br>      Find();<br>      return 0;<br>  }</p>
<p>  void searchQQ(char <em>search){<br>      Node </em>p=head-&gt;next;<br>      int n = 0;<br>      while (p!=NULL) {<br>          if (checksubstr(p-&gt;studentdata.QQ, search)==1) {<br>              n++;<br>              printsingle(p);<br>          }<br>          p=p-&gt;next;<br>      }<br>      printf(“\n查找完毕,共%d条结果”,n);<br>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>      打印单个节点内的数据            <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  void printsingle(Node <em>p){<br>      int sex=p-&gt;studentdata.sex;<br>      char sexchar[4];<br>      if (sex==0) {<br>          strcpy(sexchar, “女”);<br>      }<br>      else{<br>          strcpy(sexchar, “男”);<br>      }<br>      printf(“%-15s”,p-&gt;studentdata.name);//名字位数<br>      printf(“%-10s\t”,p-&gt;studentdata.num);//学号位数<br>      printf(“%-7s”,sexchar);<br>      printf(“%-10s”,p-&gt;studentdata.college);//学院<br>      printf(“%-32s”,p-&gt;studentdata.major);//专业<br>      printf(“%-24s”,p-&gt;studentdata.add);//address<br>      printf(“%-16s”,p-&gt;studentdata.tel);<br>      printf(“%-12s”,p-&gt;studentdata.QQ);<br>      printf(“%s”,p-&gt;studentdata.email);<br>  }<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><em>**</em></strong></strong></em>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>      检查字符串中是否包含某段字符串    <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  int checksubstr(char <em>str,char </em>sub_str)<br>  {<br>      int count = 0;<br>      for(int i=0;i<strlen(str);i++) { int j="0;" for(;j<strlen(sub_str);j++) if(*(sub_str+j)!="*(str+i+j))" break; } if(j="=strlen(sub_str))count++;" if (count>0) {<br>          return 1;<br>      }<br>      else{<br>          return 0 ;<br>      }<br>  }</strlen(str);i++)></p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           输出数据模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  void output(){<br>      system(“clear”);<br>      cout&lt;&lt;”键入\t1\t以确定输出所有的数据”&lt;&lt;endl;<br>      cout&lt;&lt;”键入\t2\t以回到主界面”&lt;&lt;endl;<br>      int n;<br>      scanf(“%d”,&amp;n);<br>      switch (n) {<br>          case 1:<br>              system(“clear”);<br>              printlink();<br>              break;<br>          case 2:<br>              system(“clear”);<br>              menu();<br>          default:<br>              system(“clear”);<br>              output();<br>              break;<br>      }<br>  }<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           打印全部数据            <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  void printlink(){<br>      Node *p=head-&gt;next;<br>      cout&lt;&lt;”name       \t”<br>      &lt;&lt;”number      \t”<br>      &lt;&lt;”sex   “<br>      &lt;&lt;”college   “<br>      &lt;&lt;”major   \t\t\t”<br>      &lt;&lt;”address     \t\t”<br>      &lt;&lt;”tel             “<br>      &lt;&lt;”QQ          “<br>      &lt;&lt;”Email       “<br>      &lt;&lt;endl;</p>
<pre><code>  while (p) {
      int sex=p-&gt;studentdata.sex;
      char sexchar[4];
      if (sex==0) {
          strcpy(sexchar, &quot;女&quot;);
      }
      else{
          strcpy(sexchar, &quot;男&quot;);
      }
      printf(&quot;%-15s&quot;,p-&gt;studentdata.name);//名字位数
      printf(&quot;%-10s\t&quot;,p-&gt;studentdata.num);//学号位数
      printf(&quot;%-7s&quot;,sexchar);
      printf(&quot;%-10s&quot;,p-&gt;studentdata.college);//学院
      printf(&quot;%-32s&quot;,p-&gt;studentdata.major);//专业
      printf(&quot;%-24s&quot;,p-&gt;studentdata.add);//address
      printf(&quot;%-16s&quot;,p-&gt;studentdata.tel);
      printf(&quot;%-12s&quot;,p-&gt;studentdata.QQ);
      printf(&quot;%s&quot;,p-&gt;studentdata.email);
      p=p-&gt;next;
  }
  printf(&quot;\n输出完毕\n键入回车以回到主菜单&quot;);
  getchar();
  getchar();
  system(&quot;clear&quot;);
  menu();
</code></pre><p>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           从文件导入模块             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  void input(){<br>      fflush(stdin);<br>      if ((head-&gt;next-&gt;studentdata.name)!=NULL) {<br>          printf(“已导入，若要加入数据，请在主菜单选择添加\n”);<br>          printf(“键入yes覆盖以前的数据\n”);<br>          printf(“键入其他键返回主菜单\n”);<br>          char check[3]={0};<br>          gets(check);<br>          if (strcmp(check, “yes”)==0) {<br>          }<br>          else{<br>              system(“clear”);<br>              menu();<br>              exit(1);<br>          }<br>      }<br>      cout&lt;&lt;”|———————————————-“&lt;&lt;endl;<br>      cout&lt;&lt;”返回上一级则按回车键”&lt;&lt;endl;<br>      cout&lt;&lt;”请输入导入文件路径：”&lt;&lt;endl;<br>      char filepath[FILEPATHSIZE];<br>      gets(filepath);<br>      if (filepath[0]==’\0’) {<br>          system(“clear”);<br>          menu();<br>      }<br>      FILE <em>fp;<br>      while ((fp=fopen(filepath, “r”))==NULL) {<br>          printf(“NOT FOUND！！请再次输入:\n”);<br>          gets(filepath);<br>          if (filepath[0]==’\0’)<br>          {<br>              system(“clear”);<br>              menu();<br>              break;<br>          }<br>      }<br>              create(filepath);<br>              system(“clear”);<br>      cout&lt;&lt;”—————————————————————-“&lt;&lt;endl;<br>      cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>      cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      导入成功！       &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>      cout&lt;&lt;”&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;”&lt;&lt;endl;<br>      cout&lt;&lt;”—————————————————————-“&lt;&lt;endl;<br>              menu();<br>  }<br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><em>**</em></strong></strong></em>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           导入文件并创建链表             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  void create(char filepath[FILEPATHSIZE]){<br>      FILE <em>fp;<br>      fp=fopen(filepath, “r”);<br>      linknode </em>p,<em>q;<br>      p=q=::head;<br>      char buffer[1024];<br>      char </em>line,<em>record;//c保存行数据,单个列元素<br>      line=fgets(buffer, sizeof(buffer), fp);//丢掉第一行<br>      while ((line=fgets(buffer, sizeof(buffer), fp))!=NULL) {<br>          q=(Node</em>)malloc(sizeof(Node));</p>
<pre><code>      record = strtok(line, &quot;,&quot;);
      strcpy(q-&gt;studentdata.name,record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.num,record);

      record = strtok(NULL, &quot;,&quot;);
      q-&gt;studentdata.sex=atoi(record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.college,record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.major, record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.add, record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.tel,record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.QQ,record);

      record = strtok(NULL, &quot;,&quot;);
      strcpy(q-&gt;studentdata.email, record);


      p-&gt;next=q;
      p=q;
  }
  p-&gt;studentdata.email[strlen(q-&gt;studentdata.email)+1]=&#39;\0&#39;;
  p-&gt;studentdata.email[strlen(q-&gt;studentdata.email)]=&#39;\n&#39;;
  p-&gt;next=NULL;
  fclose(fp);
</code></pre><p>  }</p>
<p>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>           发送邮件             <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong>*</strong></strong></strong>                                  <strong><strong><strong><em>*</em></strong></strong></strong><br>  //<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>**</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>  void send(){<br>      fflush(stdin);<br>      cout&lt;&lt;”请输入同学姓名”&lt;<endl; cout<<"输入【1】返回主菜单"<<endl; char *name="(char*)malloc(NAMESIZE);" gets(name); node *p="head;" if (strcmp(name,"1")="=0)" { system("clear"); menu(); exit(1); } while (p) (strcmp(p->studentdata.name,name)==0) {<br>              break;<br>          }<br>          else{<br>              p=p-&gt;next;<br>          }<br>      }<br>      printsingle(p);<br>      free(name);<br>      sendto(p-&gt;studentdata.email);<br>      system(“clear”);<br>      cout&lt;&lt;”成功”&lt;&lt;endl;<br>      menu();<br>      exit(1);<br>  }</endl;></p>
<p>  void sendto(char *email)<br>  {<br>      printf(“1”);<br>      char body[] = “From: \”lucy\”<a href="&#x6d;&#97;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x31;&#49;&#57;&#x34;&#x37;&#57;&#x38;&#49;&#54;&#x30;&#64;&#x71;&#113;&#x2e;&#x63;&#x6f;&#x6d;">&#x31;&#49;&#57;&#x34;&#x37;&#57;&#x38;&#49;&#54;&#x30;&#64;&#x71;&#113;&#x2e;&#x63;&#x6f;&#x6d;</a>\r\n”//这是我自己的邮箱<br>      “To: \”dasiy\”<a href="&#109;&#x61;&#x69;&#108;&#116;&#x6f;&#58;&#x31;&#x31;&#57;&#x34;&#x37;&#x39;&#56;&#49;&#54;&#x30;&#64;&#113;&#x71;&#46;&#99;&#111;&#x6d;">&#x31;&#x31;&#57;&#x34;&#x37;&#x39;&#56;&#49;&#54;&#x30;&#64;&#113;&#x71;&#46;&#99;&#111;&#x6d;</a>\r\n”//也是我自己的<br>      “Subject: caution\r\n\r\n”//主题<br>      “Fail the test”;//内容<br>      sendemail(email, body);<br>  }</p>
<p>  char con628(char c6)<br>  {<br>      printf(“1”);<br>      char rtn = ‘\0’;<br>      if (c6 &lt; 26) rtn = c6 + 65;<br>      else if (c6 &lt; 52) rtn = c6 + 71;<br>      else if (c6 &lt; 62) rtn = c6 - 4;<br>      else if (c6 == 62) rtn = 43;<br>      else rtn = 47;<br>      return rtn;<br>  }</p>
<p>  // base64的实现<br>  void base64(char <em>dbuf, char </em>buf128, int len)<br>  {<br>      printf(“1”);<br>      struct data6 <em>ddd = NULL;<br>      int i = 0;<br>      char buf[256] = {0};<br>      char </em>tmp = NULL;<br>      char cc = ‘\0’;<br>      memset(buf, 0, 256);<br>      strcpy(buf, buf128);<br>      for(i = 1; i &lt;= len/3; i++)<br>      {<br>      tmp = buf+(i-1)<em>3;<br>      cc = tmp[2];<br>      tmp[2] = tmp[0];<br>      tmp[0] = cc;<br>      ddd = (struct data6 </em>)tmp;<br>      dbuf[(i-1)<em>4+0] = con628((unsigned int)ddd-&gt;d1);<br>      dbuf[(i-1)</em>4+1] = con628((unsigned int)ddd-&gt;d2);<br>      dbuf[(i-1)<em>4+2] = con628((unsigned int)ddd-&gt;d3);<br>      dbuf[(i-1)</em>4+3] = con628((unsigned int)ddd-&gt;d4);<br>      }<br>      if(len%3 == 1)<br>      {<br>      tmp = buf+(i-1)<em>3;<br>      cc = tmp[2];<br>      tmp[2] = tmp[0];<br>      tmp[0] = cc;<br>      ddd = (struct data6 </em>)tmp;<br>      dbuf[(i-1)<em>4+0] = con628((unsigned int)ddd-&gt;d1);<br>      dbuf[(i-1)</em>4+1] = con628((unsigned int)ddd-&gt;d2);<br>      dbuf[(i-1)<em>4+2] = ‘=’;<br>      dbuf[(i-1)</em>4+3] = ‘=’;<br>      }<br>      if(len%3 == 2)<br>      {<br>      tmp = buf+(i-1)<em>3;<br>      cc = tmp[2];<br>      tmp[2] = tmp[0];<br>      tmp[0] = cc;<br>      ddd = (struct data6 </em>)tmp;<br>      dbuf[(i-1)<em>4+0] = con628((unsigned int)ddd-&gt;d1);<br>      dbuf[(i-1)</em>4+1] = con628((unsigned int)ddd-&gt;d2);<br>      dbuf[(i-1)<em>4+2] = con628((unsigned int)ddd-&gt;d3);<br>      dbuf[(i-1)</em>4+3] = ‘=’;<br>      }<br>      return;<br>  }</p>
<p>  void sendemail(char <em>email, char </em>body)<br>  {<br>      printf(“1”);<br>      int sockfd = 0;<br>      struct sockaddr_in their_addr = {0};<br>      char buf[1500] = {0};<br>      char rbuf[1500] = {0};<br>      char login[128] = {0};<br>      char pass[128] = {0};<br>      memset(&amp;their_addr, 0, sizeof(their_addr));<br>      their_addr.sin_family = AF_INET;<br>      their_addr.sin_port = htons(25);<br>      their_addr.sin_addr.s_addr = inet_addr(“112.90.141.71”);//qq smtp 服务器<br>      // 连接邮件服务器，如果连接后没有响应，则2 秒后重新连接<br>      sockfd = open_socket((struct sockaddr <em>)&amp;their_addr);<br>      memset(rbuf,0,1500);<br>      while(recv(sockfd, rbuf, 1500, 0) == 0)<br>      {<br>          printf(“reconnect…\n”);<br>          sleep(2);<br>          //close(sockfd);<br>          sockfd = open_socket((struct sockaddr </em>)&amp;their_addr);</p>
<pre><code>      memset(rbuf,0,1500);
  }

  printf(&quot;%s\n&quot;, rbuf);

  // EHLO
  memset(buf, 0, 1500);
  sprintf(buf, &quot;EHLO abcdefg-PC\r\n&quot;);
  send(sockfd, buf, strlen(buf), 0);
  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);

  // AUTH LOGIN
  memset(buf, 0, 1500);
  sprintf(buf, &quot;AUTH LOGIN\r\n&quot;);
  send(sockfd, buf, strlen(buf), 0);
  printf(&quot;%s\n&quot;, buf);
  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);

  // USER
  memset(buf, 0, 1500);
  sprintf(buf,&quot;qq！！！！！！&quot;);//你的qq号
  memset(login, 0, 128);
  base64(login, buf, (int)strlen(buf));
  sprintf(buf, &quot;%s\r\n&quot;, login);
  send(sockfd, buf, strlen(buf), 0);
  printf(&quot;%s\n&quot;, buf);
  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);

  // PASSWORD
  sprintf(buf, &quot;密码！！！！&quot;);
  memset(pass, 0, 128);
  base64(pass, buf, (int)strlen(buf));
  sprintf(buf, &quot;%s\r\n&quot;, pass);
  send(sockfd, buf, strlen(buf), 0);
  printf(&quot;%s\n&quot;, buf);

  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);

  // MAIL FROM
  memset(buf, 0, 1500);
  sprintf(buf, &quot;MAIL FROM: &lt;1194798160@qq.com&gt;\r\n&quot;);
  send(sockfd, buf, strlen(buf), 0);
  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);

  // RCPT TO 第一个收件人
  sprintf(buf, &quot;RCPT TO:&lt;%s&gt;\r\n&quot;, email);
  send(sockfd, buf, strlen(buf), 0);
  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);

  // DATA 准备开始发送邮件内容
  sprintf(buf, &quot;DATA\r\n&quot;);
  send(sockfd, buf, strlen(buf), 0);
  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);

  // 发送邮件内容，\r\n.\r\n内容结束标记
  sprintf(buf, &quot;%s\r\n.\r\n&quot;, body);
  send(sockfd, buf, strlen(buf), 0);
  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);

  // QUIT
  sprintf(buf, &quot;QUIT\r\n&quot;);
  send(sockfd, buf, strlen(buf), 0);
  memset(rbuf, 0, 1500);
  recv(sockfd, rbuf, 1500, 0);
  printf(&quot;%s\n&quot;, rbuf);


  close(sockfd);
  return;
</code></pre><p>  }<br>      // 打开TCP Socket连接<br>  int open_socket(struct sockaddr *addr)<br>  {<br>      printf(“1”);<br>          int sockfd = 0;<br>          sockfd=socket(PF_INET, SOCK_STREAM, 0);<br>          if(sockfd &lt; 0)<br>          {<br>              fprintf(stderr, “Open sockfd(TCP) error!\n”);<br>              _exit(-1);<br>          }<br>          if(connect(sockfd, addr, sizeof(struct sockaddr)) &lt; 0)<br>          {<br>              fprintf(stderr, “Connect sockfd(TCP) error!\n”);<br>              _exit(-1);<br>          }<br>          return sockfd;<br>  }</p>

            <hr>
          </div>
          <br>
          <div>
            <p>
            
              <span>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/c%E8%AF%AD%E8%A8%80">c语言</a>
                  &nbsp;
                
              </span>&nbsp;&nbsp;
            
            
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/%E6%8C%87%E9%92%88">指针</a>
                
                  <a class="hover-with-bg" href="/tags/c%E8%AF%AD%E8%A8%80">c语言</a>
                
                  <a class="hover-with-bg" href="/tags/c++">c++</a>
                
                  <a class="hover-with-bg" href="/tags/%E7%AE%97%E6%B3%95">算法</a>
                
                  <a class="hover-with-bg" href="/tags/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1">课程设计</a>
                
                  <a class="hover-with-bg" href="/tags/%E9%93%BE%E8%A1%A8">链表</a>
                
              </span>
            
            </p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <b>Welcome</b></a>
    <i class="iconfont icon-love"></i>
    <b>来啦！老弟</b></a>
    <br>

    
  
    <!-- 不蒜子统计PV -->
    
    &nbsp;<span id="busuanzi_container_site_pv">总访问量 
          <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp;
  
  
    <!-- 不蒜子统计UV -->
    
    &nbsp;<span id="busuanzi_container_site_uv">总访客数 
            <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;
  
  <br>



    


    <!-- cnzz Analytics icon -->
    

  </div>
</footer>

<!-- SCRIPTS -->
<script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js" ></script>
<script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js" ></script>
<script src="https://cdn.staticfile.org/mdbootstrap/4.8.9/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>



  
    <script src="https://cdn.staticfile.org/tocbot/4.8.0/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>



  <script src="https://cdn.staticfile.org/smooth-scroll/16.1.0/smooth-scroll.min.js" ></script>



  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


<!-- Plugins -->


  

  

  
    <!-- Tencent Analytics -->
    <script>
      var _mtac = {};
      (function () {
        var mta = document.createElement("script");
        mta.src = "//pingjs.qq.com/h5/stats.js?v2.0.4";
        mta.setAttribute("name", "MTAH5");
        mta.setAttribute("sid", "500708131");
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(mta, s);
      })();
    </script>
  

  

  <!-- cnzz Analytics -->
  



  <script src="https://cdn.staticfile.org/prettify/r298/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  ');
      prettyPrint();
    })
  </script>



  <script src="https://cdn.staticfile.org/typed.js/2.0.10/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "学生通讯录管理系统（一次c语言的初步探索运用）&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 140,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>







  <script>(function (i, s, o, g, r, a, m) {
      i['DaoVoiceObject'] = r;
      i[r] = i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        };
      i[r].l = 1 * new Date();
      a = s.createElement(o);
      m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      a.charset = 'utf-8';
      m.parentNode.insertBefore(a, m);
    })(window, document, 'script', ('https:' === document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/20e39a46.js", 'daovoice');
    daovoice('init', {
      app_id: "20e39a46",
    });
    daovoice('update');
  </script>





</body>
</html>
